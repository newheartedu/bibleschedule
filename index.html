<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>PJBC 讀經進度</title>
    <meta name="description" content="PJBC 平鎮浸信會 每日讀經進度查詢">

    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    screens: {
                        'print': {'raw': 'print'},
                    },
                    animation: {
                        'fade-in-up': 'fadeInUp 0.3s ease-out forwards',
                        'bounce-short': 'bounceShort 1s ease-in-out 1',
                        'card-flip': 'cardFlip 0.6s ease-out forwards',
                        'card-appear': 'cardAppear 0.5s ease-out forwards'
                    },
                    keyframes: {
                        fadeInUp: {
                            '0%': { opacity: '0', transform: 'translateY(10px) translateX(-50%)' },
                            '100%': { opacity: '1', transform: 'translateY(0) translateX(-50%)' },
                        },
                        bounceShort: {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-10px)' }
                        },
                        cardFlip: {
                            '0%': { transform: 'scale(0.9) rotateY(90deg)', opacity: '0' },
                            '100%': { transform: 'scale(1) rotateY(0)', opacity: '1' }
                        },
                        cardAppear: {
                            '0%': { opacity: '0', transform: 'scale(0.95) translateY(10px)' },
                            '100%': { opacity: '1', transform: 'scale(1) translateY(0)' }
                        }
                    },
                }
            }
        }
    </script>
    
    <!-- 引入 html2pdf.js 與 html2canvas -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <!-- 引入 JSZip 用於多圖打包下載 -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    
    <script type="importmap">
    {
      "imports": {
        "react": "https://esm.sh/react@18.2.0",
        "react-dom/client": "https://esm.sh/react-dom@18.2.0/client",
        "lucide-react": "https://esm.sh/lucide-react@0.294.0"
      }
    }
    </script>
    
    <!-- 引入 Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+TC:wght@400;600;700;900&family=Noto+Sans+TC:wght@400;500;700&display=swap" rel="stylesheet">

    <!-- 修正：鎖定 Babel 版本以避免 ESModules 錯誤 -->
    <script src="https://unpkg.com/@babel/standalone@7.23.6/babel.min.js"></script>

    <style>
        /* --- 網站預設字體 --- */
        body {
            background-color: #F9F9F7;
            font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans TC", sans-serif;
            -webkit-font-smoothing: antialiased;
        }
        
        .custom-scrollbar::-webkit-scrollbar { width: 6px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: transparent; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background-color: #cbd5e1; border-radius: 20px; }
        
        /* 祝福卡片專用字體 */
        .font-serif-tc {
            font-family: 'Noto Serif TC', serif;
        }

        /* --- 列印與預覽專用樣式 (Print Styles) --- */
        @page {
            size: A4 portrait;
            margin: 0;
        }

        .print-page-container {
            width: 210mm;
            height: 296mm;
            padding: 12mm 15mm;
            background: white;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            margin: 0 auto 20px auto;
            box-sizing: border-box;
            position: relative;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            page-break-after: always;
            font-family: 'Noto Serif TC', serif;
            color: #000;
        }
        .print-page-container:last-child { page-break-after: auto; margin-bottom: 0; }
        .print-header { border-bottom: 3px double #000; padding-bottom: 10px; margin-bottom: 12px; text-align: center; }
        .print-title { font-size: 36px; font-weight: 900; color: #000; letter-spacing: 2px; line-height: 1.1; margin-bottom: 4px; text-shadow: 0.5px 0 0 currentColor; }
        .print-subtitle { font-size: 20px; font-weight: 700; letter-spacing: 4px; color: #222; display: flex; justify-content: center; align-items: center; gap: 15px; }
        .print-subtitle::before, .print-subtitle::after { content: ""; display: block; width: 30px; height: 1px; background: #444; }
        .print-meta { position: absolute; right: 15mm; text-align: right; font-family: 'Noto Sans TC', sans-serif; color: #000; }
        .print-meta-year { font-size: 14px; font-weight: bold; }
        .print-meta-month { font-size: 36px; font-weight: 900; line-height: 0.9; }
        .table-wrapper { flex: 1; display: flex; flex-direction: column; width: 100%; overflow: hidden; }
        .design-table { width: 100%; height: 100%; border-collapse: collapse; table-layout: fixed; }
        .design-table th { background-color: #f0f0f0; border-top: 2px solid #000; border-bottom: 2px solid #000; border-left: 1px solid #ccc; border-right: 1px solid #ccc; padding: 4px; font-weight: 800; text-align: center; font-size: 16px; font-family: 'Noto Sans TC', sans-serif; height: 36px; color: #000; }
        .design-table th:first-child { border-left: none; }
        .design-table th:last-child { border-right: none; }
        .design-table td { border-bottom: 1px solid #ddd; border-left: 1px solid #eee; border-right: 1px solid #eee; vertical-align: middle; padding: 0 6px; }
        .design-table tr:last-child td { border-bottom: 2px solid #000; }
        .design-table tr:nth-child(even) { background-color: #fafafa; }
        .cell-date { text-align: center; font-family: 'Noto Sans TC', sans-serif; font-weight: 700; font-size: 16px; color: #000; }
        .cell-weekday { font-size: 12px; font-weight: normal; color: #444; margin-left: 4px; }
        .cell-scripture { font-size: 13px; font-weight: 600; white-space: nowrap; overflow: hidden; text-overflow: clip; letter-spacing: 0.5px; color: #000; }
        .cell-check { text-align: center; padding: 0; }
        .design-checkbox { width: 16px; height: 16px; border: 1.5px solid #333; border-radius: 3px; margin: 0 auto; }
        .print-footer { margin-top: 8px; font-size: 10px; color: #666; text-align: center; font-family: 'Noto Sans TC', sans-serif; display: flex; justify-content: space-between; align-items: center; height: 12px; }

        @media print {
            body { background: white; margin: 0; padding: 0; }
            body > *:not(#print-preview-root) { display: none !important; }
            #print-preview-root { display: block !important; position: static !important; width: 100%; height: auto; overflow: visible !important; background: white; }
            .no-print-in-preview { display: none !important; }
            .print-page-container { box-shadow: none; margin: 0; width: 210mm; height: 296mm; page-break-after: always; break-after: page; overflow: hidden; }
            .print-page-container:last-child { page-break-after: auto; break-after: auto; height: auto; min-height: 296mm; }
            * { -webkit-print-color-adjust: exact !important; print-color-adjust: exact !important; }
        }
    </style>
</head>
<body>
    <div id="root"></div>
    <div id="print-preview-root"></div>

    <script type="text/babel" data-type="module">
        import React, { useState, useEffect, useMemo, useRef } from 'react';
        import { createRoot } from 'react-dom/client';
        import { 
          Calendar as CalendarIcon, List, Home, Settings, ChevronLeft, ChevronRight, CheckCircle, Circle, 
          Star, BookOpen, Edit3, X, Search, Download, RefreshCw, Sparkles, Bookmark, Book, ArrowRight, 
          TrendingUp, LayoutGrid, Sun, Globe, Printer, Eye, FileDown, Image as ImageIcon, FileText, Fish,
          Map, Award, Anchor, Milestone, Lock, Gift, Bell, User, Heart, Quote, History, Flower
        } from 'lucide-react';

        // --- 資料與輔助函式 (保持不變) ---
        const GRACE_CARDS_DATA = {
          "version": "1.3",
          "language": "zh-Hant",
          "total": 150,
          "fortunes": [
            { "id": "G001", "category": "平安與安息", "title": "來我這裡得安息", "message": "孩子，我看見你努力卻感到疲憊的心。你背負的，比別人知道的還要多。把重擔交給我吧，你不需要一個人撐下去。", "verse": "凡勞苦擔重擔的人，可以到我這裡來，我就使你們得安息。", "reference": "馬太福音 11:28", "tags": ["安息", "壓力", "疲憊", "醫治"] },
            { "id": "G002", "category": "方向、選擇、前路", "title": "一步一步跟隨我", "message": "不要因現在的混亂否定我的帶領。即使你暫時看不清方向，我仍然掌權。一步一步跟隨我，我會在合適的時候指明道路。", "verse": "你要專心仰賴耶和華，不可倚靠自己的聰明。", "reference": "箴言 3:5", "tags": ["方向", "選擇", "帶領", "信靠"] },
            { "id": "G003", "category": "愛與身分認同", "title": "我不忘記你", "message": "孩子，你不是被遺忘的。當你覺得被忽略、被放在角落時，我仍然記得你。我的愛沒有中斷，也不會因時間而減少。", "verse": "我卻不忘記你。", "reference": "以賽亞書 49:15", "tags": ["被愛", "身分", "孤單", "記念"] },
            { "id": "G004", "category": "失敗、跌倒、重新開始", "title": "我的恩典夠你用", "message": "即使你覺得自己軟弱，我仍然揀選你。你眼中的不足，並沒有阻止我使用你。讓我在你的軟弱中，顯出屬天的能力。", "verse": "我的恩典夠你用的。", "reference": "哥林多後書 12:9", "tags": ["恩典", "軟弱", "更新", "能力"] },
            { "id": "G005", "category": "方向、選擇、前路", "title": "我走在你前面", "message": "孩子，不要害怕前面的未知。你還沒看見的明天，我已經走過。放心把未來交給我，我會親自引導你的腳步。", "verse": "耶和華必在你前面行。", "reference": "以賽亞書 52:12", "tags": ["未來", "保護", "帶領", "勇敢"] },
            { "id": "G006", "category": "等候、忍耐、信心", "title": "等待不是浪費", "message": "你以為自己只是忍耐，其實你正在被塑造。我沒有浪費你任何一段等待的時間。在安靜中信靠，我正在你裡面動工。", "verse": "忍耐生老練，老練生盼望。", "reference": "羅馬書 5:4", "tags": ["等候", "忍耐", "盼望", "塑造"] },
            { "id": "G007", "category": "愛與身分認同", "title": "你是被揀選的", "message": "不要用世界的聲音定義你是誰。那些否定你的話，並不能改變我的心意。在我眼中，你是被愛、被揀選、被珍惜的孩子。", "verse": "你們是被揀選的族類。", "reference": "彼得前書 2:9", "tags": ["身分", "揀選", "價值", "肯定"] },
            { "id": "G008", "category": "禱告與親近神", "title": "你的禱告我聽見了", "message": "孩子，你的禱告我都聽見了。即使你覺得天好像沉默，我仍在回應。相信我，答案正在成形，只是時候尚未到。", "verse": "耶和華聽了我的懇求。", "reference": "詩篇 6:9", "tags": ["禱告", "回應", "信心", "等候"] },
            { "id": "G009", "category": "懼怕、焦慮、憂傷", "title": "你不是一個人", "message": "當你覺得孤單時，請記得我與你同在。你走過的每一段路，我都沒有缺席。抬頭仰望我，你並不是獨自前行。", "verse": "我就常與你們同在，直到世界的末了。", "reference": "馬太福音 28:20", "tags": ["同在", "孤單", "安慰", "陪伴"] },
            { "id": "G010", "category": "失敗、跌倒、重新開始", "title": "起來，再走", "message": "不要因一次跌倒，就否定整個旅程。我沒有因你的失敗而離開你。起來吧，我仍然願意牽著你的手往前走。", "verse": "義人雖七次跌倒，仍必興起。", "reference": "箴言 24:16", "tags": ["跌倒", "重新開始", "扶持", "盼望"] },
            { "id": "G011", "category": "懼怕、焦慮、憂傷", "title": "我靠近傷心的人", "message": "孩子，你的眼淚我都數過。那些你沒說出口的委屈，我完全明白。讓我成為你的安慰，你可以放心哭在我面前。", "verse": "耶和華靠近傷心的人。", "reference": "詩篇 34:18", "tags": ["傷心", "安慰", "眼淚", "醫治"] },
            { "id": "G012", "category": "平安與安息", "title": "你不必討好世界", "message": "不要急著證明自己。你在我裡面的價值，早已被確立。安息在我的愛中，你不需要討好世界。", "verse": "你們得救在乎歸回安息。", "reference": "以賽亞書 30:15", "tags": ["自我價值", "安息", "自由", "被愛"] },
            { "id": "G013", "category": "等候、忍耐、信心", "title": "必重新得力", "message": "孩子，我知道你正在等一個改變。等待並不是白白浪費時間。在等候中信靠我，我必不誤事。", "verse": "等候耶和華的必重新得力。", "reference": "以賽亞書 40:31", "tags": ["得力", "等候", "更新", "信心"] },
            { "id": "G014", "category": "平安與安息", "title": "不看速度，看同行", "message": "當你覺得自己走得很慢，不要責備自己。我看重的不是速度，而是你是否與我同行。只要不離開我，你就在正確的路上。", "verse": "耶和華是我的牧者，我必不致缺乏。", "reference": "詩篇 23:1", "tags": ["步伐", "牧者", "同在", "引導"] },
            { "id": "G015", "category": "使命、呼召、勇敢前行", "title": "你不是偶然", "message": "孩子，你的生命不是偶然。你存在，是因為我有計畫、有心意。勇敢活出我放在你裡面的呼召吧。", "verse": "我知道我向你們所懷的意念。", "reference": "耶利米書 29:11", "tags": ["呼召", "計畫", "使命", "勇敢"] },
            { "id": "G016", "category": "懼怕、焦慮、憂傷", "title": "不要怕，因我與你同在", "message": "孩子，恐懼想要奪走你的平安，但我把平安賜給你。你不用被情緒牽著走，因為我在你旁邊。深呼吸，把心轉向我，我必堅固你。", "verse": "不要害怕，因為我與你同在。", "reference": "以賽亞書 41:10", "tags": ["害怕", "平安", "同在", "堅固"] },
            { "id": "G017", "category": "禱告與親近神", "title": "把憂慮交給我", "message": "孩子，你的心裡裝了太多擔心。你不需要把每件事都自己扛著，交給我就好。用禱告把重量放下，我會用平安托住你。", "verse": "應當一無掛慮…神所賜出人意外的平安必在基督耶穌裡保守你們的心懷意念。", "reference": "腓立比書 4:6-7", "tags": ["憂慮", "禱告", "平安", "保守"] },
            { "id": "G018", "category": "方向、選擇、前路", "title": "我必指教你走的路", "message": "孩子，你正在作選擇，心裡難免猶豫。不要只看眼前利害，先來問我。當你願意順服，我必指引你走該走的路。", "verse": "我要教導你，指示你當行的路。", "reference": "詩篇 32:8", "tags": ["決定", "指引", "道路", "順服"] },
            { "id": "G019", "category": "失敗、跌倒、重新開始", "title": "我使你重新站立", "message": "孩子，你覺得自己做錯了，心裡很懊悔。悔改不是結束，而是回到我面前的開始。不要停在自責裡，我要扶你起來，繼續往前。", "verse": "我們若認自己的罪，神是信實的，是公義的，必要赦免我們的罪。", "reference": "約翰一書 1:9", "tags": ["悔改", "赦免", "更新", "重新開始"] },
            { "id": "G020", "category": "愛與身分認同", "title": "你是我的孩子", "message": "孩子，你不是靠表現才配得愛。就算你覺得自己不夠好，我仍然稱你為我的孩子。回到我裡面，你會重新知道自己是誰。", "verse": "凡接待他的，就是信他名的人，他就賜他們權柄作神的兒女。", "reference": "約翰福音 1:12", "tags": ["兒女", "身份", "被接納", "恩典"] },
            { "id": "G021", "category": "等候、忍耐、信心", "title": "我不誤事", "message": "孩子，你擔心時間不夠、機會會錯過。放心，我掌管季節與時刻。你只要忠心走今天的路，我必按時成就美事。", "verse": "凡事都有定期，天下萬務都有定時。", "reference": "傳道書 3:1", "tags": ["時機", "等候", "定時", "信靠"] },
            { "id": "G022", "category": "使命、呼召、勇敢前行", "title": "剛強壯膽", "message": "孩子，你正在面對一件需要勇氣的事。不要只看自己的能力，因為我會把力量加給你。你往前踏一步，我就與你同行到底。", "verse": "你當剛強壯膽，不要懼怕，也不要驚惶。", "reference": "約書亞記 1:9", "tags": ["勇敢", "力量", "前行", "同工"] },
            { "id": "G023", "category": "禱告與親近神", "title": "親近我", "message": "孩子，你的心有點乾、有點累。不是你不愛我，而是你需要重新回到源頭。親近我吧，我會讓你的裡面再次得著活水。", "verse": "你們親近神，神就必親近你們。", "reference": "雅各書 4:8", "tags": ["親近神", "更新", "活水", "靈裡得力"] },
            { "id": "G024", "category": "平安與安息", "title": "我賜給你平安", "message": "孩子，世界的聲音很吵，但我的平安是真實的。你不需要被環境牽動，因為我在你心裡掌權。把目光轉向我，你會再次安穩。", "verse": "我留下平安給你們，我將我的平安賜給你們。", "reference": "約翰福音 14:27", "tags": ["平安", "安穩", "環境", "信靠"] },
            { "id": "G025", "category": "懼怕、焦慮、憂傷", "title": "我的喜樂成為力量", "message": "孩子，你覺得心裡的喜樂被偷走了。來到我面前，不必假裝堅強。我的喜樂不是短暫情緒，而是能支撐你重新站起來的力量。", "verse": "靠耶和華而得的喜樂是你們的力量。", "reference": "尼希米記 8:10", "tags": ["喜樂", "力量", "憂傷", "扶持"] },
            { "id": "G026", "category": "方向、選擇、前路", "title": "你腳前的燈", "message": "孩子，你不需要一次看見整條路。只要讓我的話照亮你今天的一步就好。當你照著真理走，我會一步一步帶你到目的地。", "verse": "你的話是我腳前的燈，是我路上的光。", "reference": "詩篇 119:105", "tags": ["神的話", "指引", "道路", "亮光"] },
            { "id": "G027", "category": "失敗、跌倒、重新開始", "title": "有新的一天", "message": "孩子，你以為昨天的失敗會定義你。不要害怕，我的憐憫每天都是新的。把今天交給我，你會看見新的開始。", "verse": "我們不至消滅，是出於耶和華諸般的慈愛…每早晨這都是新的。", "reference": "耶利米哀歌 3:22-23", "tags": ["新開始", "憐憫", "更新", "盼望"] },
            { "id": "G028", "category": "愛與身分認同", "title": "我看你為寶為尊", "message": "孩子，你可能覺得自己不夠好。可是我看你為寶為尊，我喜悅你。不要用別人的態度衡量你自己的價值。", "verse": "因我看你為寶為尊，又因我愛你。", "reference": "以賽亞書 43:4", "tags": ["價值", "被愛", "尊貴", "肯定"] },
            { "id": "G029", "category": "等候、忍耐、信心", "title": "你必得著應許", "message": "孩子，你正在持續做對的事，卻還沒看見果效。不要灰心，我記得你的忠心。持守到底，你必得著我為你預備的應許。", "verse": "行善不可喪志；若不灰心，到了時候就要收成。", "reference": "加拉太書 6:9", "tags": ["行善", "收成", "不灰心", "應許"] },
            { "id": "G030", "category": "使命、呼召、勇敢前行", "title": "我與你同工", "message": "孩子，你以為自己只是小小的一份子，但我看見你的忠心。你所做的每一點擺上，我都使用。不要小看自己，我要與你同工成就美事。", "verse": "我們原是他的工作，在基督耶穌裡造成的，為要叫我們行善。", "reference": "以弗所書 2:10", "tags": ["同工", "擺上", "使命", "行善"] },
            { "id": "G031", "category": "平安與安息", "title": "在我裡面安穩", "message": "孩子，你的心最近很忙，很少真正安靜下來。我知道你想把事情做好，但你不需要一直緊繃。來到我面前吧，讓我把安穩重新放回你心裡。", "verse": "你們要休息，要知道我是神。", "reference": "詩篇 46:10", "tags": ["安靜", "安穩", "休息", "信靠"] },
            { "id": "G032", "category": "懼怕、焦慮、憂傷", "title": "不要讓恐懼作主", "message": "孩子，我知道你心裡有害怕的聲音一直出現。但恐懼不是你的主人，我才是。把那些讓你不安的事交給我，我會用真理穩住你。", "verse": "神賜給我們不是膽怯的心。", "reference": "提摩太後書 1:7", "tags": ["恐懼", "膽怯", "剛強", "平安"] },
            { "id": "G033", "category": "方向、選擇、前路", "title": "我為你關門也開門", "message": "孩子，有些路你以為錯過了，其實是我為你保守。有些門關上，是為了讓你進到更合適的地方。相信我，我知道哪條路對你最好。", "verse": "我在你面前給你一個敞開的門。", "reference": "啟示錄 3:8", "tags": ["機會", "道路", "帶領", "信任"] },
            { "id": "G034", "category": "等候、忍耐、信心", "title": "不要急著結果", "message": "孩子，你很想快點看到成果，但生命有它的季節。現在你所做的每一份忠心，我都記得。耐心等候，我會讓果子在對的時候成熟。", "verse": "時候滿足，事情就成就。", "reference": "哈巴谷書 2:3", "tags": ["等候", "季節", "結果", "信心"] },
            { "id": "G035", "category": "愛與身分認同", "title": "你不需要比較", "message": "孩子，你不必和別人比較來證明自己。每個人都有不同的路，而我對你的愛沒有排名。安心作你自己，這就是我所喜悅的。", "verse": "各人要察驗自己的行為。", "reference": "加拉太書 6:4", "tags": ["比較", "身分", "自由", "被愛"] },
            { "id": "G036", "category": "失敗、跌倒、重新開始", "title": "我仍然使用你", "message": "孩子，你以為失敗讓你失去資格，但我沒有這樣看你。我看見的是你願意回轉的心。只要你回到我這裡，我仍然使用你。", "verse": "耶和華的慈愛永不斷絕。", "reference": "耶利米哀歌 3:22", "tags": ["失敗", "回轉", "恩典", "更新"] },
            { "id": "G037", "category": "禱告與親近神", "title": "向我說實話", "message": "孩子，你不需要在我面前假裝剛強。你可以把真實的感受告訴我，不論是困惑、失望或生氣。我聽得懂你的心。", "verse": "你們要將一切的憂慮卸給神。", "reference": "彼得前書 5:7", "tags": ["真實", "傾訴", "禱告", "親近"] },
            { "id": "G038", "category": "使命、呼召、勇敢前行", "title": "你的位置很重要", "message": "孩子，不要小看你現在所站的位置。我把你放在這裡，是有原因的。忠心站穩，你正在影響比你想像更多的事。", "verse": "你們是世上的光。", "reference": "馬太福音 5:14", "tags": ["影響力", "呼召", "使命", "忠心"] },
            { "id": "G039", "category": "財務、供應、缺乏", "title": "我負責你的需要", "message": "孩子，我知道你為了生活所需在憂慮。但請記得，我是你的供應者。天上的飛鳥我不曾讓牠們餓著，何況是你呢？先來尋求我的國，其他的我都會加給你。", "verse": "我的神必照他榮耀的豐富，在基督耶穌裡，使你們一切所需用的都充足。", "reference": "腓立比書 4:19", "tags": ["供應", "財務", "信靠", "豐富"] },
            { "id": "G040", "category": "人際、饒恕、和好", "title": "放手是為了你自己", "message": "孩子，那個傷害你的人，我知道你很難原諒。但把你心裡的苦毒交給我吧。饒恕不是為了對方，而是釋放你自己。我會醫治你的傷口，讓你重新自由。", "verse": "你們饒恕人的過犯，你們的天父也必饒恕你們的過犯。", "reference": "馬太福音 6:14", "tags": ["饒恕", "釋放", "人際", "醫治"] },
            { "id": "G041", "category": "孤單、被遺棄感", "title": "你從不孤單", "message": "孩子，當人群散去，夜深人靜時，你覺得沒有人懂你。但我一直都在，我甚至數過你的頭髮。我是你隨時的幫助，我永遠不會撇下你，也不會丟棄你。", "verse": "我父母離棄我，耶和華必收留我。", "reference": "詩篇 27:10", "tags": ["孤單", "同在", "陪伴", "愛"] },
            { "id": "G042", "category": "健康、身體軟弱", "title": "在軟弱中顯出剛強", "message": "孩子，你身體的不舒服讓你感到挫折，覺得自己什麼都做不了。但在你軟弱的時候，我的恩典夠你用。把你的身體交託給我，讓我的能力覆庇你。", "verse": "我的恩典夠你用的，因為我的能力是在人的軟弱上顯得完全。", "reference": "哥林多後書 12:9", "tags": ["健康", "軟弱", "恩典", "醫治"] },
            { "id": "G043", "category": "智慧、困惑、決策", "title": "向我求智慧", "message": "孩子，面對眼前的難題，你覺得腦袋一片混亂，不知道該怎麼辦。不要只靠自己的聰明，來問我吧。我是智慧的源頭，只要你求，我就厚賜給你。", "verse": "你們中間若有缺少智慧的，應當求那厚賜與眾人、也不斥責人的神。", "reference": "雅各書 1:5", "tags": ["智慧", "引導", "求問", "聰明"] },
            { "id": "G044", "category": "忙碌、壓力、優先次序", "title": "回到起初的愛", "message": "孩子，你做了很多事，忙得團團轉，但你快樂嗎？別忘了你為什麼出發。停下來，回到我身邊，重新對焦。做「對的事」比做「很多事」更重要。", "verse": "你把起初的愛心離棄了。", "reference": "啟示錄 2:4", "tags": ["忙碌", "優先次序", "愛", "焦點"] },
            { "id": "G045", "category": "被誤解、委屈", "title": "我看見你的真相", "message": "孩子，被人誤解是很難受的，你想急著辯解。但我是察驗人心的神，我完全知道你的動機。把你的名聲交給我維護，你只需要繼續保持良善。", "verse": "他要使你的公義如光發出，使你的公平明如正午。", "reference": "詩篇 37:6", "tags": ["委屈", "公義", "安慰", "察驗"] },
            { "id": "G046", "category": "改變、新季節", "title": "擁抱新的季節", "message": "孩子，環境在變，讓你感到不適應。但若不離開舊的舒適圈，你就看不見新的風景。不要眷戀過去，準備好，我要在你生命中做一件新事。", "verse": "看哪，我要做一件新事，如今要發現，你們豈不知道嗎？", "reference": "以賽亞書 43:19", "tags": ["更新", "改變", "突破", "新事"] },
            { "id": "G047", "category": "家庭、世代、兒女", "title": "我愛你的家", "message": "孩子，你為家人的擔憂我都聽見了。你無法改變他們的心，但我可以。用禱告守望你的家，用愛去填補裂痕。把你的家人交在我的手中。", "verse": "當信主耶穌，你和你一家都必得救。", "reference": "使徒行傳 16:31", "tags": ["家庭", "守望", "救恩", "關係"] },
            { "id": "G048", "category": "試探、誘惑、持守", "title": "我為你開出路", "message": "孩子，我知道外面的誘惑很大，讓你覺得快要站立不住。但我是信實的，我不會讓你受試探過於你所能受的。抬起頭看我，這條路有出口。", "verse": "在受試探的時候，總要給你們開一條出路，叫你們能忍受得住。", "reference": "哥林多前書 10:13", "tags": ["試探", "出路", "聖潔", "得勝"] },
            { "id": "G049", "category": "言語、口舌", "title": "用話語建造", "message": "孩子，話語是有能力的。小心你口中所出的話，不要讓它拆毀了關係。讓你的言語充滿恩典，像鹽調和一樣，去鼓勵、去造就你身邊的人。", "verse": "污穢的言語一句不可出口，只要隨事說造就人的好話。", "reference": "以弗所書 4:29", "tags": ["言語", "智慧", "造就", "節制"] },
            { "id": "G050", "category": "過去、遺憾、羞恥", "title": "舊事已過", "message": "孩子，不要再因為過去的錯誤而懲罰自己。在基督裡，你是新造的人。我不計算你的惡，你也無需一直回頭看。前面還有美好的路要走。", "verse": "若有人在基督裡，他就是新造的人，舊事已過，都變成新的了。", "reference": "哥林多後書 5:17", "tags": ["更新", "過去", "釋放", "新生"] },
            { "id": "G051", "category": "喜樂、滿足", "title": "喜樂是良藥", "message": "孩子，世界給的快樂很短暫，但我給的喜樂是奪不走的。即使環境不如意，你仍可以因我歡欣。讓我的喜樂成為你的力量，醫治你的心。", "verse": "喜樂的心乃是良藥。", "reference": "箴言 17:22", "tags": ["喜樂", "力量", "滿足", "醫治"] },
            { "id": "G052", "category": "嫉妒、比較、知足", "title": "你看自己為寶貴嗎", "message": "孩子，看見別人擁有，你心裡酸酸的嗎？別忘了，我給你的份是量身打造的。嫉妒會腐蝕骨頭，但知足會讓你心靈富足。我看你為至寶。", "verse": "敬虔加上知足的心便是大利了。", "reference": "提摩太前書 6:6", "tags": ["知足", "嫉妒", "價值", "富足"] },
            { "id": "G053", "category": "睡眠、失眠", "title": "安然入睡", "message": "孩子，夜深了，放下你腦中轉不停的思緒吧。明天的事明天再說，今天我與你同在。躺下來，安心睡覺，因為我必保護你平安。", "verse": "我必安然躺下睡覺，因為獨有你耶和華使我安然居住。", "reference": "詩篇 4:8", "tags": ["睡眠", "平安", "休息", "交託"] },
            { "id": "G054", "category": "憤怒、情緒管理", "title": "慢一點生氣", "message": "孩子，我知道那件事讓你很火大。但人的怒氣不能成就我的義。深呼吸，把審判的權利交給我。用柔和回答，能平息巨大的風浪。", "verse": "快快的聽，慢慢的說，慢慢的動怒。", "reference": "雅各書 1:19", "tags": ["情緒", "憤怒", "溫柔", "智慧"] },
            { "id": "G055", "category": "職場、工作", "title": "為我而做", "message": "孩子，在工作中你覺得疲憊乏味嗎？試著轉變眼光，不只是為老闆做，而是為我做。你在小事上的忠心，我看在眼裡，我必親自報答你。", "verse": "無論做什麼，都要從心裡做，像是給主做的，不是給人做的。", "reference": "歌羅西書 3:23", "tags": ["工作", "職場", "忠心", "態度"] },
            { "id": "G056", "category": "信心、懷疑", "title": "只要一點點信心", "message": "孩子，你覺得自己信心不足嗎？其實你不需要巨大的信心，只需要真實的信靠。哪怕信心像芥菜種一樣小，只要交在我手中，就能移山。", "verse": "你們若有信心像一粒芥菜種...就是對這座山說：『你從這邊挪到那邊』，它也必挪去。", "reference": "馬太福音 17:20", "tags": ["信心", "懷疑", "神蹟", "依靠"] },
            { "id": "G057", "category": "謙卑、服事", "title": "尊榮在於謙卑", "message": "孩子，不用急著爭取高位。彎下腰來服事人，那才是我眼中的偉大。通往尊榮的路，往往是從謙卑開始的。我會親自升高那些心裡謙卑的人。", "verse": "敗壞之先，人心驕傲；尊榮以前，必有謙卑。", "reference": "箴言 18:12", "tags": ["謙卑", "驕傲", "服事", "尊榮"] },
            { "id": "G058", "category": "勇氣、冒險", "title": "剛強壯膽", "message": "孩子，面對未知的挑戰，不要驚慌。這場仗不是你一個人打，我與你同在。帶著勇氣跨出去，你會看見我在前頭已經為你爭戰。", "verse": "你當剛強壯膽！不要懼怕，也不要驚惶。", "reference": "約書亞記 1:9", "tags": ["勇氣", "挑戰", "得勝", "同在"] },
            { "id": "G059", "category": "疲憊、重擔", "title": "來我這裡休息", "message": "孩子，我知道你累壞了，不僅是身體的累，更是心裡的倦。不要一個人硬撐，把重擔卸下給我。我的擔子是輕省的，在我這裡，你會找到真正的安息。", "verse": "凡勞苦擔重擔的人可以到我這裡來，我就使你們得安息。", "reference": "馬太福音 11:28", "tags": ["安息", "疲憊", "重擔", "依靠"] },
            { "id": "G060", "category": "引導、方向", "title": "一步一步來", "message": "孩子，你不必看清整條路才敢出發。我給你的光，足夠照亮你腳前的這一步。跟著我的節奏，走好現在的一步，下一步我就會顯明。", "verse": "你的話是我腳前的燈，是我路上的光。", "reference": "詩篇 119:105", "tags": ["引導", "方向", "亮光", "跟隨"] },
            { "id": "G061", "category": "保護、平安", "title": "在我的翅膀蔭下", "message": "孩子，外面的風浪很大，但你是安全的。就像小雞躲在母雞的翅膀下一樣，我也用我的翎毛遮蔽你。不要怕遭害，因為你住在至高者的隱密處。", "verse": "他必用自己的翎毛遮蔽你；你要投靠在他的翅膀底下。", "reference": "詩篇 91:4", "tags": ["保護", "平安", "安全感", "避難所"] },
            { "id": "G062", "category": "自我價值、創造", "title": "你是精心傑作", "message": "孩子，你看鏡子時總是不滿意嗎？但在我眼中，你是奇妙可畏的傑作。早在你未出世前，我就覆庇你。你的存在不是錯誤，是我精心的設計。", "verse": "我要稱謝你，因我受造奇妙可畏。", "reference": "詩篇 139:14", "tags": ["自信", "創造", "價值", "美麗"] },
            { "id": "G063", "category": "施捨、慷慨", "title": "給予帶來福氣", "message": "孩子，不要緊抓著手中的東西不放。當你願意鬆開手去祝福別人，我就能把更多的福氣放在你手中。施比受更為有福，你會經歷豐盛的流動。", "verse": "你們要給人，就必有給你們的。", "reference": "路加福音 6:38", "tags": ["慷慨", "奉獻", "祝福", "豐盛"] },
            { "id": "G064", "category": "友誼、同伴", "title": "真正的朋友", "message": "孩子，你需要同伴。真正的朋友是在患難中依然愛你的人。求我賜給你屬靈的同伴，也讓你自己成為別人的好朋友，在愛中互相扶持。", "verse": "朋友乃時常親愛，弟兄為患難而生。", "reference": "箴言 17:17", "tags": ["友誼", "關係", "支持", "同伴"] },
            { "id": "G065", "category": "心思、意念", "title": "更新你的想法", "message": "孩子，不要讓世界的聲音佔據你的腦袋。每天讓我的話語來清洗你的心思。當你的心意更新變化，你就能看清楚我美好的旨意，不再隨波逐流。", "verse": "不要效法這個世界，只要心意更新而變化。", "reference": "羅馬書 12:2", "tags": ["心思", "改變", "成長", "真理"] },
            { "id": "G066", "category": "力量、軟弱", "title": "疲乏者我賜能力", "message": "孩子，覺得自己快沒力氣了嗎？等候我的，必重新得力。你可以像老鷹一樣展翅上騰。你的力量不是來自你的肌肉，而是來自對我的倚靠。", "verse": "疲乏的，他賜能力；軟弱的，他加力量。", "reference": "以賽亞書 40:29", "tags": ["力量", "軟弱", "更新", "支持"] },
            { "id": "G067", "category": "盼望、絕望", "title": "盼望永不落空", "message": "孩子，情況看起來很糟嗎？但故事還沒結束。我是賜盼望的神，我能讓沙漠開江河。願我的喜樂平安充滿你，讓你的心因聖靈再次燃起希望。", "verse": "但願使人有盼望的神，因信將諸般的喜樂、平安充滿你們的心。", "reference": "羅馬書 15:13", "tags": ["盼望", "喜樂", "未來", "信心"] },
            { "id": "G068", "category": "論斷、批評", "title": "先看自己", "message": "孩子，看到別人的缺點很容易，但不要急著論斷。每個人都有自己的軟弱。多一點憐憫，少一點批評，就像我總是憐憫你一樣。", "verse": "為什麼看見你弟兄眼中有刺，卻不想自己眼中有梁木呢？", "reference": "馬太福音 7:3", "tags": ["包容", "反省", "憐憫", "關係"] },
            { "id": "G069", "category": "愛、真諦", "title": "愛是永不止息", "message": "孩子，所有的恩賜和成就終會過去，唯有愛能存留到永遠。在凡事上，選擇用愛去回應。即便受傷，愛仍是最大的力量，因為我就是愛。", "verse": "如今常存的有信，有望，有愛這三樣，其中最大的是愛。", "reference": "哥林多前書 13:13", "tags": ["愛", "永恆", "核心", "關係"] },
            { "id": "G070", "category": "平安、風浪", "title": "我不給你憂慮", "message": "孩子，我賜給你的平安，不是世界能給的，也不是環境能奪走的。心裡不要憂愁，也不要膽怯。這份平安是我留在你心裡的禮物，收下吧。", "verse": "我留下平安給你們；我將我的平安賜給你們。", "reference": "約翰福音 14:27", "tags": ["平安", "禮物", "鎮定", "內心"] },
            {
                "id": "G119",
                "category": "失望、落空",
                "title": "失望是為了讓你抬頭",
                "message": "孩子，我知道這件事沒有照你預期的發生，你心裡很失望。但有時候，我關上一扇門，是為了讓你不再盯著那裡看，而是抬頭看我為你預備的更好出路。",
                "verse": "我的意念非同你們的意念，我的道路非同你們的道路。",
                "reference": "以賽亞書 55:8",
                "tags": ["失望", "旨意", "引導", "信任"]
              },
              {
                "id": "G120",
                "category": "神的沈默、等候",
                "title": "我在沈默中愛你",
                "message": "孩子，當你禱告卻聽不到回答，不要覺得我離開了。如同老師在考試時總是沈默的，我也在安靜中看著你成長。信任我，即便在無聲中，我依然愛你。",
                "verse": "耶和華雖然使人憂愁，還要照他諸般的慈愛發憐憫。",
                "reference": "耶利米哀歌 3:32",
                "tags": ["沈默", "考驗", "信心", "愛"]
              },
              {
                "id": "G121",
                "category": "界線、討好",
                "title": "你不必討好所有人",
                "message": "孩子，你不需要為了別人的掌聲而活。若你一直想討好人，就會忘記如何討好我。設立健康的界線，勇敢做真實的自己，因為你是屬我的，不是屬人的。",
                "verse": "我現在是要得人的心呢？還是要得神的心呢？...若仍舊討人的喜歡，我就不是基督的僕人了。",
                "reference": "加拉太書 1:10",
                "tags": ["界線", "討好", "自由", "身分"]
              },
              {
                "id": "G122",
                "category": "憂慮、交託",
                "title": "把明天還給我",
                "message": "孩子，你腦中一直在演練明天可能發生的壞事。但明天根本還沒來到。把明天還給我吧，你只需要專注在今天。我的恩典是按日賜下的，今天夠用就好。",
                "verse": "所以，不要為明天憂慮...一天的難處一天當就夠了。",
                "reference": "馬太福音 6:34",
                "tags": ["當下", "憂慮", "交託", "恩典"]
              },
              {
                "id": "G123",
                "category": "自我形象、自信",
                "title": "我看你為尊貴",
                "message": "孩子，世人可能看外貌、看成就，但我看的是你的內心。你在我眼中是寶貴的、是尊榮的。不要用世界的標準衡量自己，你的價值是我用重價買贖回來的。",
                "verse": "因我看你為寶為尊，又因我愛你。",
                "reference": "以賽亞書 43:4",
                "tags": ["價值", "尊貴", "自信", "被愛"]
              },
              {
                "id": "G124",
                "category": "忙碌、安息",
                "title": "停下來，充個電",
                "message": "孩子，弓拉太緊是會斷的。你需要休息，這不是偷懶，而是信心的表現。相信就算你停下來休息，我也依然在工作。去睡個好覺，明天再戰。",
                "verse": "你們要休息，要知道我是神。",
                "reference": "詩篇 46:10",
                "tags": ["休息", "安息", "充電", "信任"]
              },
              {
                "id": "G125",
                "category": "話語、口舌",
                "title": "勒住舌頭",
                "message": "孩子，生氣時最容易說出後悔的話。當情緒上來時，先深呼吸，勒住你的舌頭。一句溫和的回答，能平息巨大的風波；一句傷人的話，卻難以收回。",
                "verse": "謹守口與舌的，就保守自己免受災難。",
                "reference": "箴言 21:23",
                "tags": ["言語", "智慧", "節制", "情緒"]
              },
              {
                "id": "G126",
                "category": "孤單、獨處",
                "title": "享受與我獨處",
                "message": "孩子，不要害怕孤單。即使沒有人陪伴，你還有我。把這段獨處的時間變成我們的約會吧。我渴望聽你說話，也渴望讓你聽見我的情話。",
                "verse": "我卻不孤單，因為有父與我同在。",
                "reference": "約翰福音 16:32",
                "tags": ["孤單", "獨處", "親密", "同在"]
              },
              {
                "id": "G127",
                "category": "饒恕、釋放",
                "title": "解開捆綁",
                "message": "孩子，不饒恕就像自己喝毒藥卻希望對方受傷。把審判的權利交給我，你只要負責把心中的結解開。饒恕他，你就自由了，你的心也會跟著輕省。",
                "verse": "你們站著禱告的時候，若想起有人得罪你們，就當饒恕他。",
                "reference": "馬可福音 11:25",
                "tags": ["饒恕", "自由", "釋放", "禱告"]
              },
              {
                "id": "G128",
                "category": "恐懼、未知",
                "title": "不要怕，只要信",
                "message": "孩子，面對未知的挑戰，你手心冒汗嗎？不要看風浪多大，要看我在船上。只要我不驚慌，你就不必害怕。抓緊我的手，不要怕，只要信。",
                "verse": "耶穌對他說：不要怕，只要信！",
                "reference": "馬可福音 5:36",
                "tags": ["信心", "恐懼", "風浪", "依靠"]
              },
              {
                "id": "G129",
                "category": "慷慨、奉獻",
                "title": "這不是浪費",
                "message": "孩子，當你為了愛而付出金錢或時間時，那不是浪費，而是投資在天國。我喜悅你甘心樂意的奉獻。你的每一個給予，我都會在永恆裡記念。",
                "verse": "捐得樂意的人是神所喜愛的。",
                "reference": "哥林多後書 9:7",
                "tags": ["奉獻", "慷慨", "愛心", "天國"]
              },
              {
                "id": "G130",
                "category": "比較、嫉妒",
                "title": "專注在你的跑道",
                "message": "孩子，別人的草地看起來比較綠嗎？別忘了，你也擁有屬於你的花園。專心澆灌我給你的產業，不要去羨慕別人。你在我眼中是獨一無二的。",
                "verse": "各人應當察驗自己的行為...不用與別人比較。",
                "reference": "加拉太書 6:4",
                "tags": ["比較", "嫉妒", "專注", "知足"]
              },
              {
                "id": "G131",
                "category": "正直、誠實",
                "title": "誠實是最好的路",
                "message": "孩子，哪怕說實話會讓你暫時吃虧，也要選擇誠實。我喜悅內裡誠實的人。謊言需要更多的謊言來圓，但真理會讓你心裡坦蕩，無所畏懼。",
                "verse": "口吐真言，永遠堅立；舌說謊話，只存片時。",
                "reference": "箴言 12:19",
                "tags": ["誠實", "正直", "真理", "勇氣"]
              },
              {
                "id": "G132",
                "category": "健康、身體",
                "title": "身體是聖殿",
                "message": "孩子，好好照顧你的身體，它是聖靈居住的殿。吃得健康、動得足夠、睡得安穩，這也是榮耀我的一種方式。我不只管你的靈魂，也在乎你的身體。",
                "verse": "豈不知你們的身子就是聖靈的殿嗎？...所以在你們的身子上榮耀神。",
                "reference": "哥林多前書 6:19-20",
                "tags": ["健康", "身體", "聖殿", "自律"]
              },
              {
                "id": "G133",
                "category": "計畫、變動",
                "title": "我的劇本更好",
                "message": "孩子，計畫趕不上變化讓你很挫折嗎？把你的行事曆交給我修改吧。有時候我打亂你的計畫，是因為我要給你一個意想不到的驚喜。",
                "verse": "人心籌算自己的道路；惟耶和華指引他的腳步。",
                "reference": "箴言 16:9",
                "tags": ["計畫", "變動", "引導", "驚喜"]
              },
              {
                "id": "G134",
                "category": "軟弱、剛強",
                "title": "承認軟弱",
                "message": "孩子，你不必假裝堅強。告訴我你真的不行了，那正是恩典流入的時刻。當你承認自己無能為力，我的大能才能在你身上顯得完全。",
                "verse": "因為我什麼時候軟弱，什麼時候就剛強了。",
                "reference": "哥林多後書 12:10",
                "tags": ["軟弱", "真實", "能力", "依靠"]
              },
              {
                "id": "G135",
                "category": "感恩、知足",
                "title": "看你手中的",
                "message": "孩子，不要只看你失去的，看看你手中還留下的。即使只有五餅二魚，只要獻上感謝，經過我的祝福，就能成為多人的飽足。感恩能讓缺乏變為豐盛。",
                "verse": "耶穌拿起餅來，祝謝了，分給那坐著的人。",
                "reference": "約翰福音 6:11",
                "tags": ["感恩", "神蹟", "知足", "倍增"]
              },
              {
                "id": "G136",
                "category": "過去、新事",
                "title": "向前看",
                "message": "孩子，一直看後照鏡是無法開車的。過去的失敗或輝煌都過去了。忘記背後，努力面前，我還有好多新奇的事要帶你去經歷。專注前方吧！",
                "verse": "忘記背後，努力面前的，向著標竿直跑。",
                "reference": "腓立比書 3:13-14",
                "tags": ["過去", "未來", "目標", "更新"]
              },
              {
                "id": "G137",
                "category": "智慧、求問",
                "title": "你是聰明的嗎？",
                "message": "孩子，不要自以為有智慧。遇到難題時，先來問我。世界給的建議也許好聽，但我給的智慧是清潔、和平、溫良柔順的，能帶你走長遠的路。",
                "verse": "敬畏耶和華是智慧的開端。",
                "reference": "箴言 9:10",
                "tags": ["智慧", "敬畏", "謙卑", "求問"]
              },
              {
                "id": "G138",
                "category": "愛心、冷漠",
                "title": "愛心不冷淡",
                "message": "孩子，末世的時候，許多人的愛心會漸漸冷淡。但我希望你心裡的火是熱的。不要讓世界的冷漠熄滅了你的愛，去溫暖那些在角落發抖的人。",
                "verse": "只因不法的事增多，許多人的愛心才漸漸冷淡了。",
                "reference": "馬太福音 24:12",
                "tags": ["愛心", "熱情", "關懷", "溫暖"]
              },
              {
                "id": "G139",
                "category": "公義、冤屈",
                "title": "我必為你辯屈",
                "message": "孩子，受委屈了嗎？不要急著為自己辯解。把你的案件呈到天上的法庭，我是公義的法官。我必使你的公義如光發出，你只管靜默。",
                "verse": "你當默然倚靠耶和華，耐性等候他。",
                "reference": "詩篇 37:7",
                "tags": ["委屈", "公義", "等候", "信任"]
              },
              {
                "id": "G140",
                "category": "禱告、呼求",
                "title": "大聲求告我",
                "message": "孩子，不要把話悶在心裡。你可以大聲向我呼求！就像孩子受傷時大叫爸爸一樣。我在聽，我也已經預備好要回應你的呼求。",
                "verse": "你求告我，我就應允你，並將你所不知道、又大又難的事指示你。",
                "reference": "耶利米書 33:3",
                "tags": ["禱告", "呼求", "應允", "啟示"]
              },
              {
                "id": "G141",
                "category": "家庭、和睦",
                "title": "用愛建立家",
                "message": "孩子，家是用愛建立的，不是用道理。多一點包容，少一點爭辯。你是家中的和平之子，讓我的平安透過你，流進這個家的每一個角落。",
                "verse": "智慧婦人建立家室；愚妄婦人親手拆毀。",
                "reference": "箴言 14:1",
                "tags": ["家庭", "智慧", "和睦", "愛"]
              },
              {
                "id": "G142",
                "category": "信心、懷疑",
                "title": "疑惑中仍相信",
                "message": "孩子，信心不是感覺，而是一種選擇。當環境看起來沒有希望時，選擇相信我的話。那沒看見就信的，是有福的。你的信心會像種子一樣長大。",
                "verse": "耶穌對他說：你因看見了我才信；那沒有看見就信的有福了。",
                "reference": "約翰福音 20:29",
                "tags": ["信心", "選擇", "祝福", "堅持"]
              },
              {
                "id": "G143",
                "category": "時間、拖延",
                "title": "愛惜光陰",
                "message": "孩子，時間過得很快，不要把重要的事一直往後延。今天就是行動的日子。愛惜光陰，把握每一個可以行善、可以愛人的機會。",
                "verse": "要愛惜光陰，因為現今的世代邪惡。",
                "reference": "以弗所書 5:16",
                "tags": ["時間", "行動", "智慧", "把握"]
              },
              {
                "id": "G144",
                "category": "朋友、損友",
                "title": "慎選朋友",
                "message": "孩子，近朱者赤，近墨者黑。小心那些讓你遠離我的人。求我賜給你屬靈的益友，能彼此激發愛心，勉勵行善，一起走這條天路。",
                "verse": "濫交朋友的，自取敗壞。",
                "reference": "箴言 18:24",
                "tags": ["交友", "智慧", "環境", "成長"]
              },
              {
                "id": "G145",
                "category": "喜樂、環境",
                "title": "夜間歌唱",
                "message": "孩子，誰說只有晴天才能唱歌？在困難的黑夜裡，你的歌聲更有力量。讓讚美成為你的武器，震動鎖鏈，打開監門。我要賜給你夜間歌唱的喜樂。",
                "verse": "約在半夜，保羅和西拉禱告，唱詩讚美神。",
                "reference": "使徒行傳 16:25",
                "tags": ["讚美", "突破", "喜樂", "力量"]
              },
              {
                "id": "G146",
                "category": "謙卑、服事",
                "title": "洗腳的愛",
                "message": "孩子，不要只因地位高而高興，要因為能服事人而喜樂。彎下腰來，像我為門徒洗腳一樣，去服事你身邊的人。這就是愛的真諦。",
                "verse": "我是你們的主，你們的夫子，尚且洗你們的腳，你們也當彼此洗腳。",
                "reference": "約翰福音 13:14",
                "tags": ["謙卑", "服事", "榜樣", "愛"]
              },
              {
                "id": "G147",
                "category": "金錢、貪婪",
                "title": "錢不是主人",
                "message": "孩子，錢是有用的僕人，卻是糟糕的主人。不要倚靠無定的錢財，要倚靠那厚賜百物給我享受的神。只要有衣有食，就當知足。",
                "verse": "貪財是萬惡之根。",
                "reference": "提摩太前書 6:10",
                "tags": ["金錢", "價值觀", "知足", "倚靠"]
              },
              {
                "id": "G148",
                "category": "情緒、哭泣",
                "title": "哭出來沒關係",
                "message": "孩子，想哭就哭吧，眼淚是心靈的排毒。我收集你的每一滴眼淚。哭過之後，我會擦乾你的臉，讓喜樂的油代替悲哀，讓讚美衣代替憂傷之靈。",
                "verse": "一宿雖然有哭泣，早晨便必歡呼。",
                "reference": "詩篇 30:5",
                "tags": ["情緒", "醫治", "眼淚", "歡呼"]
              },
              {
                "id": "G149",
                "category": "聖潔、分別",
                "title": "分別為聖",
                "message": "孩子，你是屬我的，所以不要隨波逐流。在這個混亂的世界裡，保守你的心清潔。當你選擇聖潔，你就選擇了與我親近，選擇了不被世界玷污的自由。",
                "verse": "你們要聖潔，因為我是聖潔的。",
                "reference": "彼得前書 1:16",
                "tags": ["聖潔", "分別", "清潔", "自由"]
              },
              {
                "id": "G150",
                "category": "同情、憐憫",
                "title": "看見別人的痛",
                "message": "孩子，不要單顧自己的事。當你看見別人受苦，不要轉過頭去。動了慈心，伸出援手。因為當你做在弟兄中最小的一個身上，就是做在我身上了。",
                "verse": "各人不要單顧自己的事，也要顧別人的事。",
                "reference": "腓立比書 2:4",
                "tags": ["憐憫", "愛心", "助人", "關懷"]
              },
              {
                "id": "G151",
                "category": "試煉、精金",
                "title": "火中的精金",
                "message": "孩子，現在的環境像火一樣炙熱嗎？別怕，我不是要燒毀你，我是要煉淨你。除去雜質後，你將如精金般閃耀。忍耐一下，我就在火窯旁看顧著你。",
                "verse": "然而他知道我所行的路；他試煉我之後，我必如精金。",
                "reference": "約伯記 23:10",
                "tags": ["試煉", "成長", "忍耐", "價值"]
              },
              {
                "id": "G152",
                "category": "根基、穩固",
                "title": "蓋房子在磐石上",
                "message": "孩子，生命這棟房子要蓋得穩，根基最重要。把你的信心建立在我的話語上，而不是一時的感覺。當雨淋水沖風吹時，你必不倒塌，因為根基在磐石上。",
                "verse": "所以，凡聽見我這話就去行的，好比一個聰明人，把房子蓋在磐石上。",
                "reference": "馬太福音 7:24",
                "tags": ["根基", "真理", "穩固", "信心"]
              },
              {
                "id": "G153",
                "category": "睡眠、安歇",
                "title": "睡吧，我守夜",
                "message": "孩子，夜深了，你的思緒還在轉嗎？把那些讓你煩惱的事交給我。我是不打盹也不睡覺的神。你只管安然躺下，今晚由我來為你守夜。",
                "verse": "保護以色列的，也不打盹也不睡覺。",
                "reference": "詩篇 121:4",
                "tags": ["睡眠", "平安", "保護", "交託"]
              },
              {
                "id": "G154",
                "category": "順服、祝福",
                "title": "順服帶來蒙福",
                "message": "孩子，有時候我不明白為什麼我要你這樣做，對嗎？但順服是蒙福的鑰匙。當你願意放下自己的想法來聽從我，你會發現我為你預備的福分大過你所想。",
                "verse": "你若聽從耶和華─你神的誡命...這以下的福必追隨你，臨到你身上。",
                "reference": "申命記 28:2",
                "tags": ["順服", "蒙福", "聽從", "恩典"]
              },
              {
                "id": "G155",
                "category": "回轉、歸家",
                "title": "浪子回家",
                "message": "孩子，無論你走得再遠，只要回頭，我就在這裡。我不看你的骯髒，我看見的是我失而復得的寶貝。跑回來吧，我已經張開雙臂等你很久了。",
                "verse": "相離還遠，他父親看見，就動了慈心，跑去抱著他的頸項。",
                "reference": "路加福音 15:20",
                "tags": ["悔改", "接納", "父愛", "歸家"]
              },
              {
                "id": "G156",
                "category": "勇氣、見證",
                "title": "不要以我為恥",
                "message": "孩子，在這個世代，承認我是需要勇氣的。但不要害怕，我賜給你的靈是剛強的。勇敢在人前為主作見證，我在天父面前也必認你。",
                "verse": "我不以福音為恥；這福音本是神的大能。",
                "reference": "羅馬書 1:16",
                "tags": ["勇氣", "見證", "福音", "榮耀"]
              },
              {
                "id": "G157",
                "category": "知足、貪心",
                "title": "夠用就好",
                "message": "孩子，慾望是無底洞，填不滿的。學會對自己擁有的說「夠了」。當你懂得在簡單中滿足，你就擁有了全世界最寶貴的財富——內心的平靜。",
                "verse": "只要有衣有食，就當知足。",
                "reference": "提摩太前書 6:8",
                "tags": ["知足", "簡單", "平靜", "智慧"]
              },
              {
                "id": "G158",
                "category": "永恆、眼光",
                "title": "客旅與寄居",
                "message": "孩子，別忘了你在這世上只是客旅。不要把帳棚釘得太深。你的家在天上，那裡有更美的基業。帶著永恆的眼光過每一天，你會活得更輕省。",
                "verse": "親愛的弟兄啊，你們是客旅，是寄居的。",
                "reference": "彼得前書 2:11",
                "tags": ["永恆", "身分", "盼望", "輕省"]
              },
              {
                "id": "G159",
                "category": "連結、關係",
                "title": "住在我裡面",
                "message": "孩子，枝子若離開葡萄樹，就不能做什麼。不要試圖靠自己單打獨鬥。每天花一點時間連結於我，我的生命汁漿就會流進你的生命，讓你自然結出果子。",
                "verse": "我是葡萄樹，你們是枝子。常在我裡面的，我也常在他裡面，這人就多結果子。",
                "reference": "約翰福音 15:5",
                "tags": ["連結", "生命", "依靠", "果子"]
              },
              {
                "id": "G160",
                "category": "批評、眼光",
                "title": "不在乎人的評價",
                "message": "孩子，人的批評像風，吹過就散了；我的評價像磐石，永遠長存。不要讓別人的閒言閒語定義你。你是我的愛子，這就是你唯一需要的標籤。",
                "verse": "我被你們論斷，或被別人論斷，我都以為極小的事...但判斷我的乃是主。",
                "reference": "哥林多前書 4:3-4",
                "tags": ["評價", "自信", "身分", "眼光"]
              },
              {
                "id": "G161",
                "category": "環境、喜樂",
                "title": "雖然無花果樹不發旺",
                "message": "孩子，即使存摺數字沒增加，工作不如意，身體有病痛，你仍可以因我歡欣。這種超越環境的喜樂，是世界奪不走的，也是你信心的證明。",
                "verse": "雖然無花果樹不發旺...然而，我要因耶和華歡欣，因救我的神喜樂。",
                "reference": "哈巴谷書 3:17-18",
                "tags": ["喜樂", "環境", "信心", "超越"]
              },
              {
                "id": "G162",
                "category": "溫柔、憐憫",
                "title": "我不折斷",
                "message": "孩子，你覺得自己像根受傷的蘆葦，快要折斷了嗎？別怕，我不會折斷你。你覺得自己像將熄的燈火嗎？我不會吹滅你。我會溫柔地修復你，直到你再次發光。",
                "verse": "壓傷的蘆葦，他不折斷；將殘的燈火，他不吹滅。",
                "reference": "以賽亞書 42:3",
                "tags": ["溫柔", "醫治", "憐憫", "恢復"]
              },
              {
                "id": "G163",
                "category": "引導、跟隨",
                "title": "雲柱與火柱",
                "message": "孩子，在人生的曠野裡，你不需要地圖，只需要跟著我。白天我有雲柱，晚上我有火柱。不要跑太快，也不要落後，緊緊跟著我的同在，就是最安全的路。",
                "verse": "日間，耶和華在雲柱中領他們的路；夜間，在火柱中光照他們。",
                "reference": "出埃及記 13:21",
                "tags": ["引導", "同在", "安全", "跟隨"]
              },
              {
                "id": "G164",
                "category": "真愛、恐懼",
                "title": "愛裡沒有懼怕",
                "message": "孩子，你怕被處罰、怕被遺棄嗎？來到我的愛裡吧。完全的愛能驅散一切恐懼。你是被我深愛著的，這份愛是安全的避風港，讓你不再驚惶。",
                "verse": "愛裡沒有懼怕；愛既完全，就把懼怕除去。",
                "reference": "約翰一書 4:18",
                "tags": ["愛", "恐懼", "安全感", "接納"]
              },
              {
                "id": "G165",
                "category": "供應、神蹟",
                "title": "烏鴉叼餅",
                "message": "孩子，雖然環境乾旱，但我有辦法養活你。就像我差遣烏鴉供養以利亞一樣，我也會透過意想不到的方式供應你。不要限制我的作為，我是行神蹟的神。",
                "verse": "我已吩咐烏鴉在那裡供養你。",
                "reference": "列王紀上 17:4",
                "tags": ["供應", "神蹟", "信靠", "奇妙"]
              },
              {
                "id": "G166",
                "category": "珍惜、保護",
                "title": "眼中的瞳人",
                "message": "孩子，你是我的寶貝，我保護你就像保護眼中的瞳仁一樣。沒有人能隨意傷害你，因為碰你的，就是碰我眼中的瞳人。躲在我的保護下，安然居住吧。",
                "verse": "保護他，看顧他，保護他如同保護眼中的瞳人。",
                "reference": "申命記 32:10",
                "tags": ["保護", "珍愛", "價值", "安全"]
              },
              {
                "id": "G167",
                "category": "塑造、順服",
                "title": "陶匠與泥土",
                "message": "孩子，我是陶匠，你是泥土。雖然揉捏的過程會痛，旋轉的過程會暈，但請信任我的手藝。我正在把你塑造成一個貴重的器皿，為了榮耀的用途。",
                "verse": "泥在窯匠的手中怎樣，你們在我的手中也怎樣。",
                "reference": "耶利米書 18:6",
                "tags": ["塑造", "順服", "器皿", "信任"]
              },
              {
                "id": "G168",
                "category": "爭戰、禱告",
                "title": "穿戴全副軍裝",
                "message": "孩子，這是一場屬靈的戰爭。不要赤手空拳上陣。穿上真理、公義、平安、信德、救恩，拿起聖靈的寶劍。靠著禱告，你已經站在得勝的一方了。",
                "verse": "要穿戴神所賜的全副軍裝，就能抵擋魔鬼的詭計。",
                "reference": "以弗所書 6:11",
                "tags": ["爭戰", "裝備", "得勝", "禱告"]
              },
              {
                "id": "G169",
                "category": "話語、創造",
                "title": "說出生命",
                "message": "孩子，你的話語有創造的力量。不要整天說消極的話，要對著你的環境說信心在話。就像我說「要有光」就有了光，你也要宣告我的應許，改變你的環境。",
                "verse": "生死在舌頭的權下，喜愛它的，必吃它所結的果子。",
                "reference": "箴言 18:21",
                "tags": ["宣告", "話語", "信心", "改變"]
              },
              {
                "id": "G170",
                "category": "焦慮、平靜",
                "title": "風浪中的睡眠",
                "message": "孩子，風浪再大，船也不會沉，因為我在船上。學學我，在風浪中也能安然睡覺。你的焦慮不能解決問題，但你的安息顯示出你對我的信任。",
                "verse": "耶穌在船尾上，枕著枕頭睡覺。",
                "reference": "馬可福音 4:38",
                "tags": ["平安", "信任", "安息", "風浪"]
              },
              {
                "id": "G171",
                "category": "饒恕、次數",
                "title": "七十個七次",
                "message": "孩子，你問我饒恕有沒有底線？愛是沒有底線的。饒恕不是因為對方值得，而是因為你需要被釋放。不斷地饒恕，你的心就會像活水一樣清澈。",
                "verse": "我對你說，不是到七次，乃是到七十個七次。",
                "reference": "馬太福音 18:22",
                "tags": ["饒恕", "愛", "包容", "無限"]
              },
              {
                "id": "G172",
                "category": "軟弱、恩典",
                "title": "一根刺",
                "message": "孩子，那根讓你痛苦的「刺」，我沒有立刻拔掉，是為了讓你更深經歷我的恩典。這根刺提醒你依靠我。當你覺得無力時，正是我能力充滿你的時候。",
                "verse": "我的恩典夠你用的，因為我的能力是在人的軟弱上顯得完全。",
                "reference": "哥林多後書 12:9",
                "tags": ["軟弱", "恩典", "苦難", "依靠"]
              },
              {
                "id": "G173",
                "category": "愛、犧牲",
                "title": "為朋友捨命",
                "message": "孩子，愛不只是感覺，更是犧牲。我為你捨了命，這就是愛的極致。去愛那些不可愛的人，去付出不求回報的愛，你就會懂我的心。",
                "verse": "人為朋友捨命，人的愛心沒有比這個大的。",
                "reference": "約翰福音 15:13",
                "tags": ["愛", "犧牲", "付出", "榜樣"]
              },
              {
                "id": "G174",
                "category": "信心、眼見",
                "title": "憑信心不憑眼見",
                "message": "孩子，現實環境也許很糟，但不要只用肉眼看。用信心的眼睛看，你會看見滿山滿谷的火車火馬圍繞著你。我們行事為人，是憑著信心，不是憑著眼見。",
                "verse": "因我們行事為人是憑著信心，不是憑著眼見。",
                "reference": "哥林多後書 5:7",
                "tags": ["信心", "眼光", "屬靈", "超越"]
              },
              {
                "id": "G175",
                "category": "時間、耐性",
                "title": "農夫的忍耐",
                "message": "孩子，生命的成長像農夫種田，急不來的。撒種之後，需要忍耐等候秋雨春雨。不要因為今天沒看到果子就放棄，地土正在悄悄用力，收成的日子近了。",
                "verse": "看哪，農夫忍耐等候地裡寶貴的出產，直到得了秋雨春雨。",
                "reference": "雅各書 5:7",
                "tags": ["忍耐", "成長", "等候", "收穫"]
              },
              {
                "id": "G176",
                "category": "渴慕、滿足",
                "title": "如鹿切慕溪水",
                "message": "孩子，你的心乾渴嗎？世界的水喝了還會再渴，唯有我的水能解你靈魂的渴。來切慕我，像鹿切慕溪水一樣，我必使你的心靈得著飽足。",
                "verse": "神啊，我的心切慕你，如鹿切慕溪水。",
                "reference": "詩篇 42:1",
                "tags": ["渴慕", "滿足", "靈修", "親近"]
              },
              {
                "id": "G177",
                "category": "道路、狹窄",
                "title": "走窄路",
                "message": "孩子，不要羨慕寬大的路，那裡去的人雖多，卻通向滅亡。選擇那條窄路，雖然不好走，人也少，但我在路的盡頭等你。這是一條引向永生的榮耀之路。",
                "verse": "你們要進窄門...引到永生，那門是窄的，路是小的，找著的人也少。",
                "reference": "馬太福音 7:13-14",
                "tags": ["選擇", "道路", "永生", "堅持"]
              },
              {
                "id": "G178",
                "category": "憂傷、安慰",
                "title": "憂傷之靈",
                "message": "孩子，你的心碎了。我都看見了。我不輕看憂傷痛悔的心。來，讓我給你披上讚美衣，代替憂傷之靈。讓我用喜樂油，滋潤你乾枯的骨頭。",
                "verse": "賜華冠與錫安悲哀的人，代替灰塵；喜樂油代替悲哀；讚美衣代替憂傷之靈。",
                "reference": "以賽亞書 61:3",
                "tags": ["安慰", "醫治", "讚美", "恢復"]
              },
              {
                "id": "G179",
                "category": "計畫、每一步",
                "title": "腳前的燈",
                "message": "孩子，不要擔心太遙遠的未來。我的話是你腳前的燈。燈光雖然照不遠，但足夠照亮你腳下的這一步。走好這一步，下一步的光就會出現。",
                "verse": "你的話是我腳前的燈，是我路上的光。",
                "reference": "詩篇 119:105",
                "tags": ["引導", "當下", "真理", "方向"]
              },
              {
                "id": "G180",
                "category": "合一、身體",
                "title": "彼此作肢體",
                "message": "孩子，你是身體的一部分，不能脫離身體獨自存活。眼不能對手說我用不著你。尊重教會裡和你不同的人，在愛中互相聯絡，身體才會健康增長。",
                "verse": "正如我們一個身子上有好些肢體...我們這許多人，在基督裡成為一身，互相聯絡作肢體。",
                "reference": "羅馬書 12:4-5",
                "tags": ["教會", "合一", "肢體", "關係"]
              },
              {
                "id": "G181",
                "category": "真誠、虛假",
                "title": "不要假冒為善",
                "message": "孩子，我不在乎外表的敬虔，我在乎內心的真實。不要做給人看，要做給我看。哪怕你帶著殘缺來到我面前，只要是真實的，我都悅納。",
                "verse": "人是看外貌；耶和華是看內心。",
                "reference": "撒母耳記上 16:7",
                "tags": ["真實", "內心", "誠實", "接納"]
              },
              {
                "id": "G182",
                "category": "信心、大山",
                "title": "移山的信心",
                "message": "孩子，你看著眼前的困難像大山一樣嗎？如果你有信心像一粒芥菜種，就能吩咐這山挪開。關鍵不在於你的信心有多大，而在於你信的神有多大。",
                "verse": "你們若有信心像一粒芥菜種...對這座山說：你從這邊挪到那邊，它也必挪去。",
                "reference": "馬太福音 17:20",
                "tags": ["信心", "神蹟", "困難", "突破"]
              },
              {
                "id": "G183",
                "category": "安靜、聆聽",
                "title": "微小的聲音",
                "message": "孩子，我不一定在烈風大作或地震中。我常在微小的聲音裡對你說話。關掉外面的噪音，平靜你的心。只有安靜下來，你才能聽見我對你的溫柔呼喚。",
                "verse": "火後有微小的聲音。",
                "reference": "列王紀上 19:12",
                "tags": ["聆聽", "安靜", "親近", "啟示"]
              },
              {
                "id": "G184",
                "category": "管教、愛",
                "title": "愛的管教",
                "message": "孩子，如果你覺得我對你嚴厲，那是因為我愛你。我不願你走錯路。把困難當作我的修剪，這會讓你結出平安的果子，使你的生命更豐盛。",
                "verse": "因為主所愛的，他必管教。",
                "reference": "希伯來書 12:6",
                "tags": ["管教", "成長", "父愛", "修剪"]
              },
              {
                "id": "G185",
                "category": "憐憫、審判",
                "title": "憐憫向審判誇勝",
                "message": "孩子，不要急著論斷別人的錯誤。多一點憐憫，因為你也常被憐憫。當你選擇饒恕和憐憫時，你就戰勝了審判，活出了我的樣式。",
                "verse": "因為那不憐憫人的，也要受無憐憫的審判；憐憫原是向審判誇勝。",
                "reference": "雅各書 2:13",
                "tags": ["憐憫", "寬容", "愛", "關係"]
              },
              {
                "id": "G186",
                "category": "福氣、給予",
                "title": "施比受更為有福",
                "message": "孩子，想要快樂嗎？試著去給予。手心向下比手心向上更快樂。當你成為流通的管子，我的祝福就會源源不絕地流過你，滋潤別人也滋潤自己。",
                "verse": "施比受更為有福。",
                "reference": "使徒行傳 20:35",
                "tags": ["給予", "慷慨", "祝福", "喜樂"]
              },
              {
                "id": "G187",
                "category": "智慧、建造",
                "title": "聰明的工頭",
                "message": "孩子，你要建造什麼樣的人生？是草木禾稭還是金銀寶石？草木禾稭經不起火煉，唯有做在永恆裡的事能存留。用我的智慧去建造那不朽壞的工程。",
                "verse": "若有人用金、銀、寶石、草木、禾稭在這根基上建造...火要試驗各人的工程怎樣。",
                "reference": "哥林多前書 3:12-13",
                "tags": ["價值", "永恆", "建造", "智慧"]
              },
              {
                "id": "G188",
                "category": "懼怕、同在",
                "title": "死蔭幽谷",
                "message": "孩子，即使你現在走在死蔭的幽谷，四周一片漆黑，也不要怕遭害。因為我與你同在。我的杖、我的竿都安慰你。這只是過程，我們正在走出黑暗。",
                "verse": "我雖然行過死蔭的幽谷，也不怕遭害，因為你與我同在。",
                "reference": "詩篇 23:4",
                "tags": ["困難", "同在", "安慰", "勇氣"]
              },
              {
                "id": "G189",
                "category": "新造、過去",
                "title": "都是新的了",
                "message": "孩子，不要讓過去的錯誤定義你。在基督裡，你就是新造的人。昨天的你已經過去，今天的你擁有一張白紙。拿起筆，跟我一起寫下新的篇章。",
                "verse": "若有人在基督裡，他就是新造的人，舊事已過，都變成新的了。",
                "reference": "哥林多後書 5:17",
                "tags": ["更新", "希望", "恩典", "重生"]
              },
              {
                "id": "G190",
                "category": "依靠、才能",
                "title": "不靠勢力",
                "message": "孩子，這件事太大，你靠自己的聰明和力氣是做不到的。但不要灰心，因為不是倚靠勢力，不是倚靠才能，乃是倚靠我的靈方能成事。放手讓我來。",
                "verse": "不是倚靠勢力，不是倚靠才能，乃是倚靠我的靈方能成事。",
                "reference": "撒迦利亞書 4:6",
                "tags": ["聖靈", "依靠", "能力", "成全"]
              },
              {
                "id": "G191",
                "category": "尋求、遇見",
                "title": "尋找就尋見",
                "message": "孩子，我不是躲貓貓的神。我渴望被你遇見。只要你真心尋求我，就必尋見；叩門的，就給他開門。帶著期待來找我，我必不讓你空手而回。",
                "verse": "你們祈求，就給你們；尋找，就尋見；叩門，就給你們開門。",
                "reference": "馬太福音 7:7",
                "tags": ["禱告", "尋求", "回應", "渴慕"]
              },
              {
                "id": "G192",
                "category": "擔憂、天父",
                "title": "你比飛鳥貴重",
                "message": "孩子，天上的飛鳥不種也不收，我都養活牠們。你在我心中，比飛鳥貴重千萬倍。難道我會虧待你嗎？把對生活的憂慮卸下，我是負責供應你的天父。",
                "verse": "你們看那天上的飛鳥，也不種，也不收...你們的天父尚且養活他。你們不比飛鳥貴重得多嗎？",
                "reference": "馬太福音 6:26",
                "tags": ["供應", "價值", "看顧", "信心"]
              },
              {
                "id": "G193",
                "category": "自卑、揀選",
                "title": "揀選愚拙的",
                "message": "孩子，覺得自己不夠好、不夠聰明嗎？沒關係，我常揀選世上愚拙的、軟弱的，叫那有智慧的羞愧。你的軟弱正好是我的畫布，我要在上面畫出榮耀。",
                "verse": "神卻揀選了世上愚拙的...又揀選了世上軟弱的。",
                "reference": "哥林多前書 1:27",
                "tags": ["揀選", "恩典", "價值", "自信"]
              },
              {
                "id": "G194",
                "category": "憤怒、陽光",
                "title": "不可含怒到日落",
                "message": "孩子，生氣是難免的，但不要讓怒氣在你心裡過夜。含怒到日落會給魔鬼留地步。在睡前饒恕吧，把心洗乾淨，安然入睡。",
                "verse": "生氣卻不要犯罪；不可含怒到日落。",
                "reference": "以弗所書 4:26",
                "tags": ["情緒", "饒恕", "智慧", "和睦"]
              },
              {
                "id": "G195",
                "category": "專注、唯一",
                "title": "不可少的只有一件",
                "message": "孩子，你為許多事思慮煩擾，但不可少的只有一件。像馬利亞一樣，選擇那上好的福分，就是安靜在我腳前。這是誰也不能從你奪去的。",
                "verse": "但是不可少的只有一件；馬利亞已經選擇那上好的福分，是不能奪去的。",
                "reference": "路加福音 10:42",
                "tags": ["優先次序", "親近", "專注", "福分"]
              },
              {
                "id": "G196",
                "category": "重擔、釋放",
                "title": "天天背負重擔的主",
                "message": "孩子，不要把昨天的擔子揹到今天，也不要把明天的擔子借到今天。我是天天背負你重擔的主。把背包交給我，你只需要輕省地跟著我走。",
                "verse": "天天背負我們重擔的主，就是拯救我們的神，是應當稱頌的！",
                "reference": "詩篇 68:19",
                "tags": ["重擔", "交託", "輕省", "拯救"]
              },
              {
                "id": "G197",
                "category": "驕傲、跌倒",
                "title": "小心站立",
                "message": "孩子，順利的時候要謹慎，不要心高氣傲。自以為站得穩的，須要謹慎，免得跌倒。保持謙卑的心，承認你需要我，這才是最穩妥的姿勢。",
                "verse": "所以，自己以為站得穩的，須要謹慎，免得跌倒。",
                "reference": "哥林多前書 10:12",
                "tags": ["謙卑", "警醒", "智慧", "保護"]
              },
              {
                "id": "G198",
                "category": "安慰、母親",
                "title": "像母親安慰兒子",
                "message": "孩子，受委屈了嗎？來我懷裡。我要安慰你，如同母親安慰兒子一樣。你不必多說什麼，我都懂。在我的愛中，讓眼淚流乾，重新得力。",
                "verse": "母親怎樣安慰兒子，我就照樣安慰你們。",
                "reference": "以賽亞書 66:13",
                "tags": ["安慰", "母愛", "溫柔", "醫治"]
              }
          ]
        };

        const JOURNEY_DATA = {
            characters: [
                { id: 1, stars: 3, name: "亞伯拉罕", name_en: "Abraham", gender: 'm', theme: "信心之父", theme_en: "Father of Faith", blessing: "願你在未知的旅途中，依然信靠神的應許，因為祂是信實的。", blessing_en: "May you trust God's promises in the unknown journey, for He is faithful." },
                { id: 2, stars: 6, name: "約瑟", name_en: "Joseph", gender: 'm', theme: "神旨意的美好", theme_en: "Goodness of God's Will", blessing: "無論處在高山或低谷，願你深信神的意思原是好的，祂必親自引領。", blessing_en: "Whether on mountaintops or in valleys, may you believe God means it for good and He will lead." },
                { id: 3, stars: 9, name: "摩西", name_en: "Moses", gender: 'm', theme: "謙和與忠心", theme_en: "Humility and Faithfulness", blessing: "願神賜你溫柔的心與堅定的靈，在日常的小事上顯出大忠心。", blessing_en: "May God grant you a gentle heart and steadfast spirit to show great faithfulness in daily small things." },
                { id: 4, stars: 12, name: "路得", name_en: "Ruth", gender: 'f', theme: "堅定的跟隨", theme_en: "Steadfast Following", blessing: "願你的心單純而堅定，在平凡的拾穗中，遇見神預備的豐盛恩典。", blessing_en: "May your heart be pure and steadfast, encountering God's prepared abundance in ordinary gleaning." },
                { id: 5, stars: 15, name: "大衛", name_en: "David", gender: 'm', theme: "合神心意", theme_en: "After God's Own Heart", blessing: "願你像大衛一樣，在軟弱時懂得倚靠，在得勝時懂得歸榮耀給神。", blessing_en: "May you rely on God in weakness like David, and give glory to Him in victory." },
                { id: 6, stars: 18, name: "以斯帖", name_en: "Esther", gender: 'f', theme: "勇敢的位份", theme_en: "Courageous Position", blessing: "願你知道你得著今日的位份，是為了神國度的緣故，剛強壯膽吧！", blessing_en: "May you know your position today is for God's Kingdom. Be strong and courageous!" },
                { id: 7, stars: 21, name: "彼得", name_en: "Peter", gender: 'm', theme: "跌倒後的更新", theme_en: "Renewal After Falling", blessing: "即使曾經軟弱，主的愛依然尋找你。願你再次被愛充滿，牧養祂的羊。", blessing_en: "Even if you were weak, the Lord's love still seeks you. May you be filled with love again to shepherd His sheep." },
                { id: 8, stars: 24, name: "保羅", name_en: "Paul", gender: 'm', theme: "奔跑不放棄", theme_en: "Running Without Giving Up", blessing: "忘記背後，努力面前，願你向著標竿直跑，得著神在基督耶穌裡召你得的獎賞。", blessing_en: "Forgetting what is behind and straining toward what is ahead, may you press on toward the goal for the prize." },
                { id: 9, stars: 27, name: "約翰", name_en: "John", gender: 'm', theme: "愛的使徒", theme_en: "Apostle of Love", blessing: "願你住在愛裡面，不僅被愛，更能成為流通神愛的器皿。", blessing_en: "May you abide in love, not only being loved but becoming a vessel for God's flowing love." },
                { id: 10, stars: 30, name: "馬利亞", name_en: "Mary", gender: 'f', theme: "尊主為大", theme_en: "Magnifying the Lord", blessing: "願你的心尊主為大，靈以神為樂，順服神話語的成就。", blessing_en: "May your soul magnify the Lord and your spirit rejoice in God, submitting to the fulfillment of His word." }
            ],
            locations: [
                { id: 1, stars: 7, name: "伊甸園", name_en: "Eden", book: "創世記", book_en: "Genesis", theme: "起初的愛", theme_en: "First Love", meditation: "回到起初，神看一切都甚好。願你在忙碌中，找回與神同行的單純快樂。", meditation_en: "Back to the beginning, God saw it was good. May you find the pure joy of walking with God amidst busyness." },
                { id: 2, stars: 14, name: "亞拉臘山", name_en: "Ararat", book: "創世記", book_en: "Genesis", theme: "新的開始", theme_en: "New Beginning", meditation: "洪水退去，彩虹立約。願舊事已過，你的生命在基督裡成為新造的人。", meditation_en: "The flood receded, the rainbow covenant stands. May old things pass away, and you become a new creation in Christ." },
                { id: 3, stars: 21, name: "吾珥", name_en: "Ur", book: "創世記", book_en: "Genesis", theme: "呼召之地", theme_en: "Land of Calling", meditation: "離開本地本族，不是流浪，而是跟隨。願你聽見那溫柔的呼喚，勇敢起行。", meditation_en: "Leaving home is not wandering but following. May you hear that gentle call and set out courageously." },
                { id: 4, stars: 28, name: "紅海", name_en: "Red Sea", book: "出埃及記", book_en: "Exodus", theme: "神蹟與拯救", theme_en: "Miracles and Salvation", meditation: "前有紅海，後有追兵，正是神顯榮耀的時刻。只管站住，看耶和華為你施行救恩。", meditation_en: "Red Sea ahead, soldiers behind—time for God's glory. Stand firm and see the salvation of the Lord." },
                { id: 5, stars: 35, name: "西奈山", name_en: "Sinai", book: "出埃及記", book_en: "Exodus", theme: "聖潔之約", theme_en: "Covenant of Holiness", meditation: "神的話語是腳前的燈。願你在山上領受的亮光，成為山下行走的準則。", meditation_en: "God's word is a lamp to your feet. May the light received on the mountain become the rule for walking below." },
                { id: 6, stars: 42, name: "迦南地", name_en: "Canaan", book: "約書亞記", book_en: "Joshua", theme: "應許之地", theme_en: "Promised Land", meditation: "流奶與蜜之地需要爭戰得地為業。願你剛強壯膽，不看巨人的高大，只看神的應許。", meditation_en: "Land of milk and honey requires fighting to possess. Be strong, look not at giants, but at God's promises." },
                { id: 7, stars: 49, name: "伯利恆", name_en: "Bethlehem", book: "路加福音", book_en: "Luke", theme: "謙卑的降生", theme_en: "Humble Birth", meditation: "最偉大的王，降生在最卑微的馬槽。願你的心也成為虛己的器皿，迎接主的同在。", meditation_en: "The greatest King born in a humble manger. May your heart be an empty vessel to welcome the Lord's presence." },
                { id: 8, stars: 56, name: "加利利湖", name_en: "Galilee", book: "馬可福音", book_en: "Mark", theme: "平靜風浪", theme_en: "Calming the Storm", meditation: "人生的風浪再大，主都在船上。願你聽見那聲「住了吧！靜了吧！」，得享屬天的安息。", meditation_en: "No matter the storm, the Lord is in the boat. May you hear \"Peace! Be still!\" and enjoy heavenly rest." },
                { id: 9, stars: 63, name: "各各他", name_en: "Golgotha", book: "馬太福音", book_en: "Matthew", theme: "捨己的愛", theme_en: "Sacrificial Love", meditation: "十字架是愛的記號。願你常常思念那為你捨命的主，生命再次被更新。", meditation_en: "The cross is the mark of love. May you often remember the Lord who gave His life for you, renewing your life." },
                { id: 10, stars: 70, name: "新耶路撒冷", name_en: "New Jerusalem", book: "啟示錄", book_en: "Revelation", theme: "永恆的盼望", theme_en: "Eternal Hope", meditation: "眼淚必被擦去，不再有死亡與悲哀。願這永恆的家鄉，成為你今日奔跑的力量。", meditation_en: "Tears wiped away, no more death or sorrow. May this eternal home be your strength for running today." }
            ]
        };

        const AvatarMale = () => (
            <div className="w-12 h-12 rounded-full overflow-hidden bg-blue-50 border-2 border-white shadow-sm shrink-0 ring-1 ring-blue-100/50">
                <img 
                    src="https://image2url.com/r2/default/images/1768642809035-a8f1968b-608c-40f4-a3dd-d76bb2c05b52.png" 
                    alt="Male Character" 
                    className="w-full h-full object-cover"
                />
            </div>
        );

        const AvatarFemale = () => (
            <div className="w-12 h-12 rounded-full overflow-hidden bg-pink-50 border-2 border-white shadow-sm shrink-0 ring-1 ring-pink-100/50">
                <img 
                    src="https://image2url.com/r2/default/images/1768642850835-cb85a698-edcd-4676-b926-51edc4d5a4a8.png" 
                    alt="Female Character" 
                    className="w-full h-full object-cover"
                />
            </div>
        );

        const TRANSLATIONS = {
            zh: {
                title: "PJBC 平鎮浸信會",
                subtitle: "讀經進度",
                print_subtitle: "讀經進度表",
                greeting: "平安！願神的話語成為你腳前的燈",
                today_btn: "今日進度",
                grace_btn: "恩典籤收藏", 
                grace_title: "恩典籤",
                grace_draw_again: "再抽一張",
                grace_close: "關閉",
                grace_collect: "收藏恩典", 
                grace_collected: "恩典籤已收藏",
                grace_view_btn: "點擊查看", // 新增
                grace_empty: "尚未收藏恩典籤",
                grace_empty_desc: "每日讀經並打勾完成後，就能獲得當日的恩典籤喔！",
                view_journey: "查看旅程",
                daily_one: "每日一章", 
                daily_ten: "每日十章", 
                mark_read: "標記已讀",
                marked: "已讀完",
                note_title: "靈修筆記", 
                note_placeholder: "記錄神今天對你說的話...",
                source: "來源: Bolls.life API",
                version: "和合本 (CUV)",
                loading: "載入中...",
                no_data: "無資料",
                print_btn: "下載/列印",
                print_modal_title: "列印與下載設定",
                print_desc: "請選擇年份與月份 (可多選)，系統將生成專用的 A4 進度表。",
                print_preview_btn: "預覽文件",
                print_now: "立即列印",
                download_png: "下載所有圖片 (PNG)",
                download_pdf: "下載 PDF",
                close_preview: "關閉",
                cancel: "取消",
                year: "年",
                month: "月",
                check_col: "完成",
                date_col: "日期",
                select_all: "全選",
                deselect_all: "取消全選",
                journey_title: "我的聖經旅程",
                journey_subtitle: "每一個腳步，神都記念",
                character_unlock: "聖經人物解鎖榜",
                location_map: "聖經地圖",
                locked: "尚未解鎖",
                current_pos: "目前位置",
                star_toast: "你今天選擇了神的話，這一顆星星為你記念。",
                unlock_toast: "🎉 恭喜！你解鎖了新的獎勵：",
                next_witness: "下一位人物",
                next_location: "下一個地點",
                need_stars: "需累積",
                start_point: "旅程起點",
                start_desc: "累積 7 顆星解鎖第一個地點...",
                char_locked_desc: "持續讀經，每收集 3 顆星星解鎖一位聖經人物...",
                rules_title: "解鎖規則",
                rules_char: "每累積 3 顆星解鎖一位人物",
                rules_loc: "每累積 7 顆星解鎖一個地點",
                nav: { home: "首頁", calendar: "月曆", table: "列表", journey: "旅程" }
            },
            en: {
                title: "PJBC", 
                subtitle: "Bible Schedule",
                print_subtitle: "Bible Reading Schedule",
                greeting: "Peace! Your word is a lamp for my feet",
                today_btn: "Today's Plan",
                grace_btn: "Grace Collection", 
                grace_title: "Grace Card",
                grace_draw_again: "Draw Again",
                grace_close: "Close",
                grace_collect: "Collect",
                grace_collected: "Grace Card Collected",
                grace_view_btn: "Click to View", // 新增
                grace_empty: "No Grace Cards Yet",
                grace_empty_desc: "Complete your daily reading and check it off to receive a grace card!",
                view_journey: "My Journey",
                daily_one: "Daily One",
                daily_ten: "Daily Ten",
                mark_read: "Mark Read",
                marked: "Finished",
                note_title: "Devotional Notes",
                note_placeholder: "What is God saying to you today?",
                source: "Source: Bolls.life API",
                version: "English (WEB)",
                loading: "Loading...",
                no_data: "No Data",
                print_btn: "Download/Print",
                print_modal_title: "Print & Download Settings",
                print_desc: "Select year and month(s) to generate printable A4 schedules.",
                print_preview_btn: "Preview Document",
                print_now: "Print Now",
                download_png: "Download Image",
                download_pdf: "Download PDF",
                close_preview: "Close",
                cancel: "Cancel",
                year: "",
                month: "",
                check_col: "✓",
                date_col: "Date",
                select_all: "Select All",
                deselect_all: "Clear",
                journey_title: "My Journey",
                journey_subtitle: "God remembers every step",
                character_unlock: "Characters",
                location_map: "Bible Map",
                locked: "Locked",
                current_pos: "Current",
                star_toast: "You chose God's word today. A star marks your journey.",
                unlock_toast: "🎉 Congrats! You unlocked: ",
                next_witness: "Next Character",
                next_location: "Next Location",
                need_stars: "Need",
                start_point: "Journey Start",
                start_desc: "Collect 7 stars to unlock the first location...",
                char_locked_desc: "Read daily, unlock a Bible character every 3 stars...",
                rules_title: "Unlock Rules",
                rules_char: "Unlock a character every 3 stars",
                rules_loc: "Unlock a location every 7 stars",
                nav: { home: "Home", calendar: "Calendar", table: "List", journey: "Journey" }
            }
        };

        const WEEKDAY_MAP = { "日": "Sun", "一": "Mon", "二": "Tue", "三": "Wed", "四": "Thu", "五": "Fri", "六": "Sat" };
        const ABBREV_TO_FULL_ZH = { "創": "創世記", "出": "出埃及記", "利": "利未記", "民": "民數記", "申": "申命記", "書": "約書亞記", "士": "士師記", "得": "路得記", "撒上": "撒母耳記上", "撒下": "撒母耳記下", "王上": "列王紀上", "王下": "列王紀下", "代上": "歷代志上", "代下": "歷代志下", "拉": "以斯拉記", "尼": "尼希米記", "斯": "以斯帖記", "伯": "約伯記", "詩": "詩篇", "箴": "箴言", "傳": "傳道書", "歌": "雅歌", "賽": "以賽亞書", "耶": "耶利米書", "哀": "耶利米哀歌", "結": "以西結書", "但": "但以理書", "何": "何西阿書", "珥": "約珥書", "摩": "阿摩司書", "俄": "俄巴底亞書", "拿": "約拿書", "彌": "彌迦書", "鴻": "那鴻書", "哈": "哈巴谷書", "番": "西番雅書", "該": "哈該書", "亞": "撒迦利亞書", "瑪": "瑪拉基書", "太": "馬太福音", "可": "馬可福音", "路": "路加福音", "約": "約翰福音", "徒": "使徒行傳", "羅": "羅馬書", "林前": "哥林多前書", "林後": "哥林多後書", "加": "加拉太書", "弗": "以弗所書", "腓": "腓立比書", "西": "歌羅西書", "帖前": "帖撒羅尼迦前書", "帖後": "帖撒羅尼迦後書", "提前": "提摩太前書", "提後": "提摩太後書", "多": "提多書", "門": "腓利門書", "來": "希伯來書", "雅": "雅各書", "彼前": "彼得前書", "彼後": "彼得後書", "約一": "約翰一書", "約二": "約翰二書", "約三": "約翰三書", "猶": "猶大書", "啟": "啟示錄" };
        const FULL_TO_ABBREV_ZH = Object.fromEntries(Object.entries(ABBREV_TO_FULL_ZH).map(([k, v]) => [v, k]));
        const ZH_TO_EN_ABBREV = { "創世記": "Gen", "創": "Gen", "出埃及記": "Exod", "出": "Exod", "利未記": "Lev", "利": "Lev", "民數記": "Num", "民": "Num", "申命記": "Deut", "申": "Deut", "約書亞記": "Josh", "書": "Josh", "士師記": "Judg", "士": "Judg", "路得記": "Ruth", "得": "Ruth", "撒母耳記上": "1 Sam", "撒上": "1 Sam", "撒母耳記下": "2 Sam", "撒下": "2 Sam", "列王紀上": "1 Kgs", "王上": "1 Kgs", "列王紀下": "2 Kgs", "王下": "2 Kgs", "歷代志上": "1 Chr", "代上": "1 Chr", "歷代志下": "2 Chr", "代下": "2 Chr", "以斯拉記": "Ezra", "拉": "Ezra", "尼希米記": "Neh", "尼": "Neh", "以斯帖記": "Esth", "斯": "Esth", "約伯記": "Job", "伯": "Job", "詩篇": "Ps", "詩": "Ps", "箴言": "Prov", "箴": "Prov", "傳道書": "Eccl", "傳": "Eccl", "雅歌": "Song", "歌": "Song", "以賽亞書": "Isa", "賽": "Isa", "耶利米書": "Jer", "耶": "Jer", "耶利米哀歌": "Lam", "哀": "Lam", "以西結書": "Ezek", "結": "Ezek", "但以理書": "Dan", "但": "Dan", "何西阿書": "Hos", "何": "Hos", "約珥書": "Joel", "珥": "Joel", "阿摩司書": "Amos", "摩": "Amos", "俄巴底亞書": "Obad", "俄": "Obad", "約拿書": "Jonah", "拿": "Jonah", "彌迦書": "Mic", "彌": "Mic", "那鴻書": "Nah", "鴻": "Nah", "哈巴谷書": "Hab", "哈": "Hab", "西番雅書": "Zeph", "番": "Zeph", "哈該書": "Hag", "該": "Hag", "撒迦利亞書": "Zech", "亞": "Zech", "瑪拉基書": "Mal", "瑪": "Mal", "馬太福音": "Matt", "太": "Matt", "馬可福音": "Mark", "可": "Mark", "路加福音": "Luke", "路": "Luke", "約翰福音": "John", "約": "John", "使徒行傳": "Acts", "徒": "Acts", "羅馬書": "Rom", "羅": "Rom", "哥林多前書": "1 Corinthians", "林前": "1 Corinthians", "哥林多後書": "2 Corinthians", "林後": "2 Corinthians", "加拉太書": "Gal", "加": "Gal", "以弗所書": "Eph", "弗": "Eph", "腓立比書": "Philippians", "腓": "Philippians", "歌羅西書": "Colossians", "西": "Colossians", "帖撒羅尼迦前書": "1 Thessalonians", "帖前": "1 Thessalonians", "帖撒羅尼迦後書": "2 Thessalonians", "帖後": "2 Thessalonians", "提摩太前書": "1 Timothy", "提前": "1 Timothy", "提摩太後書": "2 Timothy", "提後": "2 Timothy", "提多書": "Titus", "多": "Titus", "腓利門書": "Philemon", "門": "Philemon", "希伯來書": "Heb", "來": "Heb", "雅各書": "James", "雅": "James", "彼得前書": "1 Peter", "彼前": "1 Peter", "彼得後書": "2 Peter", "彼後": "2 Peter", "約翰一書": "1 John", "約一": "1 John", "約翰二書": "2 John", "約二": "2 John", "約翰三書": "3 John", "約三": "3 John", "猶大書": "Jude", "猶": "Jude", "啟示錄": "Revelation", "啟": "Revelation" };
        const BIBLE_BOOKS_ID = { "創世記": 1, "創": 1, "出埃及記": 2, "出": 2, "利未記": 3, "利": 3, "民數記": 4, "民": 4, "申命記": 5, "申": 5, "約書亞記": 6, "書": 6, "士師記": 7, "士": 7, "路得記": 8, "得": 8, "撒母耳記上": 9, "撒上": 9, "撒母耳記下": 10, "撒下": 10, "列王紀上": 11, "王上": 11, "列王紀下": 12, "王下": 12, "歷代志上": 13, "代上": 13, "歷代志下": 14, "代下": 14, "以斯拉記": 15, "拉": 15, "尼希米記": 16, "尼": 16, "以斯帖記": 17, "斯": 17, "約伯記": 18, "伯": 18, "詩篇": 19, "詩": 19, "箴言": 20, "箴": 20, "傳道書": 21, "傳": 21, "雅歌": 22, "歌": 22, "以賽亞書": 23, "賽": 23, "耶利米書": 24, "耶": 24, "耶利米哀歌": 25, "哀": 25, "以西結書": 26, "結": 26, "但以理書": 27, "但": 27, "何西阿書": 28, "何": 28, "約珥書": 29, "珥": 29, "阿摩司書": 30, "摩": 30, "俄巴底亞書": 31, "俄": 31, "約拿書": 32, "拿": 32, "彌迦書": 33, "彌": 33, "那鴻書": 34, "鴻": 34, "哈巴谷書": 35, "哈": 35, "西番雅書": 36, "番": 36, "哈該書": 37, "該": 37, "撒迦利亞書": 38, "亞": 38, "瑪拉基書": 39, "瑪": 39, "馬太福音": 40, "太": 40, "馬可福音": 41, "可": 41, "路加福音": 42, "路": 42, "約翰福音": 43, "約": 43, "使徒行傳": 44, "徒": 44, "羅馬書": 45, "羅": 45, "哥林多前書": 46, "林前": 46, "哥林多後書": 47, "林後": 47, "加拉太書": 48, "加": 48, "以弗所書": 49, "弗": 49, "腓立比書": 50, "腓": 50, "歌羅西書": 51, "西": 51, "帖撒羅尼迦前書": 52, "帖前": 52, "帖撒羅尼迦後書": 53, "帖後": 53, "提摩太前書": 54, "提前": 54, "提摩太後書": 55, "提後": 55, "提多書": 56, "多": 56, "腓利門書": 57, "門": 57, "希伯來書": 58, "來": 58, "雅各書": 59, "雅": 59, "彼得前書": 60, "彼前": 60, "彼得後書": 61, "彼後": 61, "約翰一書": 62, "約一": 62, "約翰二書": 63, "約二": 63, "約翰三書": 64, "約三": 64, "猶大書": 65, "猶": 65, "啟示錄": 66, "啟": 66 };

        const parseScriptureString = (text) => { if (!text) return []; const segments = text.split(/[;；]/).map(s => s.trim()).filter(s => s); const results = []; segments.forEach(seg => { let cleanSeg = seg.replace(/\(.*?\)/g, '').replace(/（.*?）/g, '').replace(/章/g, '').replace(/第/g, '').trim(); const sortedKeys = Object.keys(BIBLE_BOOKS_ID).sort((a, b) => b.length - a.length); let matchedBook = ""; let bookId = 0; let rangesStr = ""; for (const key of sortedKeys) { if (cleanSeg.startsWith(key)) { matchedBook = key; bookId = BIBLE_BOOKS_ID[key]; rangesStr = cleanSeg.substring(key.length).trim(); break; } } if (bookId) { if (rangesStr) { const parts = rangesStr.split(/[,，]/); parts.forEach(part => { if (part.includes('-')) { const [start, end] = part.split('-').map(n => parseInt(n)); if (!isNaN(start) && !isNaN(end)) { for (let i = start; i <= end; i++) results.push({ zhBook: matchedBook, bookId, chapter: i }); } } else { const num = parseInt(part); if (!isNaN(num)) results.push({ zhBook: matchedBook, bookId, chapter: num }); } }); } else if (["俄巴底亞書","俄","腓利門書","門","約翰二書","約二","約翰三書","約三","猶大書","猶"].includes(matchedBook)) { results.push({ zhBook: matchedBook, bookId, chapter: 1 }); } } }); return results; };
        const formatScriptureDisplay = (text, lang) => { if (!text) return ""; let display = text.replace(/\s*[（(]新循環[)）]/g, '').replace(/新循環/g, '').replace(/\s*[（(]第一遍讀完[)）]/g, '').replace(/\s*[（(]舊約一遍終[)）]/g, '').replace(/\s*[（(]第三遍讀完[)）]/g, '').replace(/\s*[（(]第二遍讀完[)）]/g, '').replace(/\s*[（(]卷終[)）]/g, '').replace(/卷終/g, ''); if (lang === 'zh') { const sortedAbbrevs = Object.keys(ABBREV_TO_FULL_ZH).sort((a, b) => b.length - a.length); sortedAbbrevs.forEach(abbrev => { const full = ABBREV_TO_FULL_ZH[abbrev]; const regex = new RegExp(`(^|[^\\u4e00-\\u9fa5])${abbrev}(?![\\u4e00-\\u9fa5])`, 'g'); if (abbrev === '傳') { display = display.replace(/(^|[^行\u4e00-\u9fa5])傳(?![^\d\s\uff0c\u3001;])/g, `$1${full}`); } else { display = display.replace(regex, `$1${full}`); } }); display = display.replace(/([\u4e00-\u9fa5])\s+(\d)/g, '$1$2'); display = display.replace(/([\u4e00-\u9fa5]+)(第?)(\d+[-0-9,，]*)(章?)/g, (match, book, prefix, num, suffix) => { return `${book} ${num}`; }); display = display.replace(/;/g, '；'); } else { const sortedKeys = Object.keys(ZH_TO_EN_BOOKS).sort((a,b) => b.length - a.length); sortedKeys.forEach(zh => { if (display.includes(zh)) { display = display.split(zh).join(ZH_TO_EN_BOOKS[zh] + " "); } }); display = display.replace(/第/g, "").replace(/章/g, "").replace(/；/g, "; "); display = display.replace(/\s+/g, ' ').trim(); } return display.trim(); };
        const formatCalendarDisplay = (text, lang) => { if (!text) return ""; let simplified = text.replace(/\(.*?\)|\（.*?\）|新循環|卷終/g, ''); if (lang === 'en') { const sortedKeys = Object.keys(ZH_TO_EN_ABBREV).sort((a,b) => b.length - a.length); sortedKeys.forEach(zh => { const regex = new RegExp(zh, 'g'); simplified = simplified.replace(regex, ZH_TO_EN_ABBREV[zh] + " "); }); simplified = simplified.replace(/第/g, "").replace(/章/g, "").replace(/；/g, "; "); simplified = simplified.replace(/\s+/g, ' ').trim(); simplified = simplified.replace(/\s*,\s*/g, ', '); return simplified; } const sortedFullNames = Object.keys(FULL_TO_ABBREV_ZH).sort((a, b) => b.length - a.length); sortedFullNames.forEach(fullName => { if (simplified.includes(fullName)) { simplified = simplified.replace(new RegExp(fullName, 'g'), FULL_TO_ABBREV_ZH[fullName]); } }); simplified = simplified.replace(/\s+/g, '').replace(/第/g, '').replace(/章/g, '').replace(/；/g, ' ').replace(/，/g, ','); return simplified; };
        const getButtonLabel = (item, lang) => { if (lang === 'zh') { const fullName = ABBREV_TO_FULL_ZH[item.zhBook] || item.zhBook; return `${fullName} ${item.chapter}`; } else { let enBook = ZH_TO_EN_BOOKS[item.zhBook] || "Book"; return `${enBook} ${item.chapter}`; } };
        
        // --- 修正：新增日期格式化輔助函式 (避免時區問題) ---
        const formatDateLocal = (date) => {
            const y = date.getFullYear();
            const m = String(date.getMonth() + 1).padStart(2, '0');
            const d = String(date.getDate()).padStart(2, '0');
            return `${y}-${m}-${d}`;
        };

        // --- 新增：取得台灣時間的今日字串 (YYYY-MM-DD) ---
        const getTodayStrInTaiwan = () => {
            const options = { timeZone: 'Asia/Taipei', year: 'numeric', month: '2-digit', day: '2-digit' };
            try {
                // Intl.DateTimeFormat with en-CA returns YYYY-MM-DD
                return new Intl.DateTimeFormat('en-CA', options).format(new Date());
            } catch (e) {
                // Fallback: 簡易調整 (假設系統時間是 UTC，手動加 8 小時，雖然不完美但比直接用 UTC 好)
                const now = new Date();
                const utc = now.getTime() + (now.getTimezoneOffset() * 60000);
                const taiwanTime = new Date(utc + (3600000 * 8));
                const y = taiwanTime.getFullYear();
                const m = String(taiwanTime.getMonth() + 1).padStart(2, '0');
                const d = String(taiwanTime.getDate()).padStart(2, '0');
                return `${y}-${m}-${d}`;
            }
        };

        const generateInitialData = () => { const plans = []; const addDay = (date, wd, one, ten) => plans.push({ date, weekday: wd, dailyOne: one, dailyTen: ten }); 
            const year2025_Dec = [["2025-12-01", "一", "使徒行傳 1", "約 18-21；徒 1-6"], ["2025-12-02", "二", "以西結書 29", "徒 7-16"], ["2025-12-03", "三", "以西結書 30", "徒 17-26"], ["2025-12-04", "四", "以西結書 31", "徒 27-28；羅 1-8"], ["2025-12-05", "五", "以西結書 32", "羅 9-16；林前 1-2"], ["2025-12-06", "六", "使徒行傳 2", "林前 3-12"], ["2025-12-07", "日", "使徒行傳 3", "林前 13-16；林後 1-6"], ["2025-12-08", "一", "使徒行傳 4", "林後 7-13；加 1-3"], ["2025-12-09", "二", "以西結書 33", "加 4-6；弗 1-6；腓 1"], ["2025-12-10", "三", "以西結書 34", "腓 2-4；歌 1-4；帖前 1-3"], ["2025-12-11", "四", "以西結書 35", "帖前 4-5；帖後 1-3；提前 1-5"], ["2025-12-12", "五", "以西結書 36", "提前 6；提後 1-4；多 1-3；門 1；來 1"], ["2025-12-13", "六", "使徒行傳 5", "來 2-11"], ["2025-12-14", "日", "使徒行傳 6", "來 12-13；雅 1-5；彼前 1-3"], ["2025-12-15", "一", "使徒行傳 7", "彼前 4-5；彼後 1-3；約一 1-5"], ["2025-12-16", "二", "以西結書 37", "約二；約三；猶；啟 1-7"], ["2025-12-17", "三", "以西結書 38", "啟 8-17"], ["2025-12-18", "四", "以西結書 39", "啟 18-22；創 1-5 (新循環)"], ["2025-12-19", "五", "以西結書 40", "創 6-15"], ["2025-12-20", "六", "使徒行傳 8", "創 16-25"], ["2025-12-21", "日", "使徒行傳 9", "創 26-35"], ["2025-12-22", "一", "使徒行傳 10", "創 36-45"], ["2025-12-23", "二", "以西結書 41", "創 46-50；出 1-5"], ["2025-12-24", "三", "以西結書 42", "出 6-15"], ["2025-12-25", "四", "以西結書 43", "出 16-25"], ["2025-12-26", "五", "以西結書 44", "出 26-35"], ["2025-12-27", "六", "使徒行傳 11", "出 36-40；利 1-5"], ["2025-12-28", "日", "使徒行傳 12", "利 6-15"], ["2025-12-29", "一", "使徒行傳 13", "利 16-25"], ["2025-12-30", "二", "以西結書 45", "利 26-27；民 1-8"], ["2025-12-31", "三", "以西結書 46", "民 9-18"]];
            // 修正：確保 2026 年資料完整
            const year2026 = [
                ["2026-01-01", "四", "結 47", "民 19-28"], ["2026-01-02", "五", "結 48 (卷終)", "民 29-36；申 1-2"], ["2026-01-03", "六", "徒 14", "申 3-12"], ["2026-01-04", "日", "徒 15", "申 13-22"], ["2026-01-05", "一", "徒 16", "申 23-32"], ["2026-01-06", "二", "但 1", "申 33-34；書 1-8"], ["2026-01-07", "三", "但 2", "書 9-18"], ["2026-01-08", "四", "但 3", "書 19-24；士 1-4"], ["2026-01-09", "五", "但 4", "士 5-14"], ["2026-01-10", "六", "徒 17", "士 15-21；得 1-3"], ["2026-01-11", "日", "徒 18", "得 4；撒上 1-9"], ["2026-01-12", "一", "徒 19", "撒上 10-19"], ["2026-01-13", "二", "但 5", "撒上 20-29"], ["2026-01-14", "三", "但 6", "撒上 30-31；撒下 1-8"], ["2026-01-15", "四", "但 7", "撒下 9-18"], ["2026-01-16", "五", "但 8", "撒下 19-24；王上 1-4"], ["2026-01-17", "六", "徒 20", "王上 5-14"], ["2026-01-18", "日", "徒 21", "王上 15-22；王下 1-2"], ["2026-01-19", "一", "徒 22", "王下 3-12"], ["2026-01-20", "二", "但 9", "王下 13-22"], ["2026-01-21", "三", "但 10", "王下 23-25；代上 1-7"], ["2026-01-22", "四", "但 11", "代上 8-17"], ["2026-01-23", "五", "但 12 (卷終)", "代上 18-27"], ["2026-01-24", "六", "徒 23", "代上 28-29；代下 1-8"], ["2026-01-25", "日", "徒 24", "代下 9-18"], ["2026-01-26", "一", "徒 25", "代下 19-28"], ["2026-01-27", "二", "何 1", "代下 29-36；拉 1-2"], ["2026-01-28", "三", "何 2", "拉 3-10；尼 1-2"], ["2026-01-29", "四", "何 3", "尼 3-12"], ["2026-01-30", "五", "何 4", "尼 13；斯 1-9"], ["2026-01-31", "六", "徒 26", "斯 10；伯 1-9"], ["2026-02-01", "日", "徒 27", "伯 10-19"], ["2026-02-02", "一", "徒 28 (卷終)", "伯 20-29"], ["2026-02-03", "二", "何 5", "伯 30-39"], ["2026-02-04", "三", "何 6", "伯 40-42；詩 1-7"], ["2026-02-05", "四", "何 7", "詩 8-17"], ["2026-02-06", "五", "何 8", "詩 18-27"], ["2026-02-07", "六", "羅 1", "詩 28-37"], ["2026-02-08", "日", "羅 2", "詩 38-47"], ["2026-02-09", "一", "羅 3", "詩 48-57"], ["2026-02-10", "二", "何 9", "詩 58-67"], ["2026-02-11", "三", "何 10", "詩 68-77"], ["2026-02-12", "四", "何 11", "詩 78-87"], ["2026-02-13", "五", "何 12", "詩 88-97"], ["2026-02-14", "六", "羅 4", "詩 98-107"], ["2026-02-15", "日", "羅 5", "詩 108-117"], ["2026-02-16", "一", "羅 6", "詩 118-127"], ["2026-02-17", "二", "何 13", "詩 128-137"], ["2026-02-18", "三", "何 14 (卷終)", "詩 138-147"], ["2026-02-19", "四", "珥 1", "詩 148-150；箴 1-7"], ["2026-02-20", "五", "珥 2", "箴 8-17"], ["2026-02-21", "六", "羅 7", "箴 18-27"], ["2026-02-22", "日", "羅 8", "箴 28-31；傳 1-6"], ["2026-02-23", "一", "羅 9", "傳 7-12；歌 1-4"], ["2026-02-24", "二", "珥 3 (卷終)", "歌 5-8；賽 1-6"], ["2026-02-25", "三", "摩 1", "賽 7-16"], ["2026-02-26", "四", "摩 2", "賽 17-26"], ["2026-02-27", "五", "摩 3", "賽 27-36"], ["2026-02-28", "六", "羅 10", "賽 37-46"], ["2026-03-01", "日", "羅 11", "賽 47-56"], ["2026-03-02", "一", "羅 12", "賽 57-66"], ["2026-03-03", "二", "摩 4", "耶 1-10"], ["2026-03-04", "三", "摩 5", "耶 11-20"], ["2026-03-05", "四", "摩 6", "耶 21-30"], ["2026-03-06", "五", "摩 7", "耶 31-40"], ["2026-03-07", "六", "羅 13", "耶 41-50"], ["2026-03-08", "日", "羅 14", "耶 51-52；哀 1-5；結 1-3"], ["2026-03-09", "一", "羅 15", "結 4-13"], ["2026-03-10", "二", "摩 8", "結 14-23"], ["2026-03-11", "三", "摩 9 (卷終)", "結 24-33"], ["2026-03-12", "四", "俄", "結 34-43"], ["2026-03-13", "五", "拿 1", "結 44-48；但 1-5"], ["2026-03-14", "六", "羅 16 (卷終)", "但 6-12；何 1-3"], ["2026-03-15", "日", "林前 1", "何 4-13"], ["2026-03-16", "一", "林前 2", "何 14；珥 1-3；摩 1-6"], ["2026-03-17", "二", "拿 2", "摩 7-9；俄；拿 1-4；彌 1-2"], ["2026-03-18", "三", "拿 3", "彌 3-7；鴻 1-3；哈 1-2"], ["2026-03-19", "四", "拿 4 (卷終)", "哈 3；番 1-3；該 1-2；亞 1-4"], ["2026-03-20", "五", "彌 1", "亞 5-14"], ["2026-03-21", "六", "林前 3", "瑪 1-4；太 1-6"], ["2026-03-22", "日", "林前 4", "太 7-16"], ["2026-03-23", "一", "林前 5", "太 17-26"], ["2026-03-24", "二", "彌 2", "太 27-28；可 1-8"], ["2026-03-25", "三", "彌 3", "可 9-16；路 1-2"], ["2026-03-26", "四", "彌 4", "路 3-12"], ["2026-03-27", "五", "彌 5", "路 13-22"], ["2026-03-28", "六", "林前 6", "路 23-24；約 1-8"], ["2026-03-29", "日", "林前 7", "約 9-18"], ["2026-03-30", "一", "林前 8", "約 19-21；徒 1-7"], ["2026-03-31", "二", "彌 6", "徒 8-17"], ["2026-04-01", "三", "彌 7 (卷終)", "徒 18-27"], ["2026-04-02", "四", "鴻 1", "徒 28；羅 1-9"], ["2026-04-03", "五", "鴻 2", "羅 10-16；林前 1-3"], ["2026-04-04", "六", "林前 9", "林前 4-13"], ["2026-04-05", "日", "林前 10", "林前 14-16；林後 1-7"], ["2026-04-06", "一", "林前 11", "林後 8-13；加 1-4"], ["2026-04-07", "二", "鴻 3 (卷終)", "加 5-6；弗 1-6；腓 1-2"], ["2026-04-08", "三", "哈 1", "腓 3-4；歌 1-4；帖前 1-4"], ["2026-04-09", "四", "哈 2", "帖前 5；帖後 1-3；提前 1-6"], ["2026-04-10", "五", "哈 3 (卷終)", "提後 1-4；多 1-3；門；來 1-2"], ["2026-04-11", "六", "林前 12", "來 3-12"], ["2026-04-12", "日", "林前 13", "來 13；雅 1-5；彼前 1-4"], ["2026-04-13", "一", "林前 14", "彼前 5；彼後 1-3；約一 1-5；約二"], ["2026-04-14", "二", "番 1", "約三；猶；啟 1-8"], ["2026-04-15", "三", "番 2", "啟 9-18"], ["2026-04-16", "四", "番 3 (卷終)", "啟 19-22；創 1-6 (第一遍讀完)"], ["2026-04-17", "五", "該 1", "創 7-16"], ["2026-04-18", "六", "林前 15", "創 17-26"], ["2026-04-19", "日", "林前 16 (卷終)", "創 27-36"], ["2026-04-20", "一", "林後 1", "創 37-46"], ["2026-04-21", "二", "該 2 (卷終)", "創 47-50；出 1-6"], ["2026-04-22", "三", "亞 1", "出 7-16"], ["2026-04-23", "四", "亞 2", "出 17-26"], ["2026-04-24", "五", "亞 3", "出 27-36"], ["2026-04-25", "六", "林後 2", "出 37-40；利 1-6"], ["2026-04-26", "日", "林後 3", "利 7-16"], ["2026-04-27", "一", "林後 4", "利 17-26"], ["2026-04-28", "二", "亞 4", "利 27；民 1-9"], ["2026-04-29", "三", "亞 5", "民 10-19"], ["2026-04-30", "四", "亞 6", "民 20-29"], ["2026-05-01", "五", "亞 7", "民 30-36；申 1-3"], ["2026-05-02", "六", "林後 5", "申 4-13"], ["2026-05-03", "日", "林後 6", "申 14-23"], ["2026-05-04", "一", "林後 7", "申 24-33"], ["2026-05-05", "二", "亞 8", "申 34；書 1-9"], ["2026-05-06", "三", "亞 9", "書 10-19"], ["2026-05-07", "四", "亞 10", "書 20-24；士 1-5"], ["2026-05-08", "五", "亞 11", "士 6-15"], ["2026-05-09", "六", "林後 8", "士 16-21；得 1-4"], ["2026-05-10", "日", "林後 9", "撒上 1-10"], ["2026-05-11", "一", "林後 10", "撒上 11-20"], ["2026-05-12", "二", "亞 12", "撒上 21-30"], ["2026-05-13", "三", "亞 13", "撒上 31；撒下 1-9"], ["2026-05-14", "四", "亞 14 (卷終)", "撒下 10-19"], ["2026-05-15", "五", "瑪 1", "撒下 20-24；王上 1-5"], ["2026-05-16", "六", "林後 11", "王上 6-15"], ["2026-05-17", "日", "林後 12", "王上 16-22；王下 1-3"], ["2026-05-18", "一", "林後 13 (卷終)", "王下 4-13"], ["2026-05-19", "二", "瑪 2", "王下 14-23"], ["2026-05-20", "三", "瑪 3", "王下 24-25；代上 1-8"], ["2026-05-21", "四", "瑪 4 (舊約一遍終)", "代上 9-18"], ["2026-05-22", "五", "創 1 (新循環)", "代上 19-28"], ["2026-05-23", "六", "加 1", "代上 29；代下 1-9"], ["2026-05-24", "日", "加 2", "代下 10-19"], ["2026-05-25", "一", "加 3", "代下 20-29"], ["2026-05-26", "二", "創 2", "代下 30-36；拉 1-3"], ["2026-05-27", "三", "創 3", "拉 4-10；尼 1-3"], ["2026-05-28", "四", "創 4", "尼 4-13"], ["2026-05-29", "五", "創 5", "斯 1-10"], ["2026-05-30", "六", "加 4", "伯 1-10"], ["2026-05-31", "日", "加 5", "伯 11-20"], ["2026-06-01", "一", "加 6 (卷終)", "伯 21-30"], ["2026-06-02", "二", "創 6", "伯 31-40"], ["2026-06-03", "三", "創 7", "伯 41-42；詩 1-8"], ["2026-06-04", "四", "創 8", "詩 9-18"], ["2026-06-05", "五", "創 9", "詩 19-28"], ["2026-06-06", "六", "弗 1", "詩 29-38"], ["2026-06-07", "日", "弗 2", "詩 39-48"], ["2026-06-08", "一", "弗 3", "詩 49-58"], ["2026-06-09", "二", "創 10", "詩 59-68"], ["2026-06-10", "三", "創 11", "詩 69-78"], ["2026-06-11", "四", "創 12", "詩 79-88"], ["2026-06-12", "五", "創 13", "詩 89-98"], ["2026-06-13", "六", "弗 4", "詩 99-108"], ["2026-06-14", "日", "弗 5", "詩 109-118"], ["2026-06-15", "一", "弗 6 (卷終)", "詩 119-128"], ["2026-06-16", "二", "創 14", "詩 129-138"], ["2026-06-17", "三", "創 15", "詩 139-148"], ["2026-06-18", "四", "創 16", "詩 149-150；箴 1-8"], ["2026-06-19", "五", "創 17", "箴 9-18"], ["2026-06-20", "六", "腓 1", "箴 19-28"], ["2026-06-21", "日", "腓 2", "箴 29-31；傳 1-7"], ["2026-06-22", "一", "腓 3", "傳 8-12；歌 1-5"], ["2026-06-23", "二", "創 18", "歌 6-8；賽 1-7"], ["2026-06-24", "三", "創 19", "賽 8-17"], ["2026-06-25", "四", "創 20", "賽 18-27"], ["2026-06-26", "五", "創 21", "賽 28-37"], ["2026-06-27", "六", "腓 4 (卷終)", "賽 38-47"], ["2026-06-28", "日", "西 1", "賽 48-57"], ["2026-06-29", "一", "西 2", "賽 58-66；耶 1"], ["2026-06-30", "二", "創 22", "耶 2-11"], ["2026-07-01", "三", "創 23", "耶 12-21"], ["2026-07-02", "四", "創 24", "耶 22-31"], ["2026-07-03", "五", "創 25", "耶 32-41"], ["2026-07-04", "六", "西 3", "耶 42-51"], ["2026-07-05", "日", "西 4 (卷終)", "耶 52；哀 1-5；結 1-4"], ["2026-07-06", "一", "帖前 1", "結 5-14"], ["2026-07-07", "二", "創 26", "結 15-24"], ["2026-07-08", "三", "創 27", "結 25-34"], ["2026-07-09", "四", "創 28", "結 35-44"], ["2026-07-10", "五", "創 29", "結 45-48；但 1-6"], ["2026-07-11", "六", "帖前 2", "但 7-12；何 1-4"], ["2026-07-12", "日", "帖前 3", "何 5-14"], ["2026-07-13", "一", "帖前 4", "珥 1-3；摩 1-7"], ["2026-07-14", "二", "創 30", "摩 8-9；俄；拿；彌 1-3"], ["2026-07-15", "三", "創 31", "彌 4-7；鴻 1-3；哈 1-3"], ["2026-07-16", "四", "創 32", "番 1-3；該 1-2；亞 1-5"], ["2026-07-17", "五", "創 33", "亞 6-14；瑪 1"], ["2026-07-18", "六", "帖前 5 (卷終)", "瑪 2-4；太 1-7"], ["2026-07-19", "日", "帖後 1", "太 8-17"], ["2026-07-20", "一", "帖後 2", "太 18-27"], ["2026-07-21", "二", "創 34", "太 28；可 1-9"], ["2026-07-22", "三", "創 35", "可 10-16；路 1-3"], ["2026-07-23", "四", "創 36", "路 4-13"], ["2026-07-24", "五", "創 37", "路 14-23"], ["2026-07-25", "六", "帖後 3 (卷終)", "路 24；約 1-9"], ["2026-07-26", "日", "提前 1", "約 10-19"], ["2026-07-27", "一", "提前 2", "約 20-21；徒 1-8"], ["2026-07-28", "二", "創 38", "徒 9-18"], ["2026-07-29", "三", "創 39", "徒 19-28"], ["2026-07-30", "四", "創 40", "羅 1-10"], ["2026-07-31", "五", "創 41", "羅 11-16；林前 1-4"], ["2026-08-01", "六", "提前 3", "林前 5-14"], ["2026-08-02", "日", "提前 4", "林前 15-16；林後 1-8"], ["2026-08-03", "一", "提前 5", "林後 9-13；加 1-5"], ["2026-08-04", "二", "創 42", "加 6；弗 1-6；腓 1-3"], ["2026-08-05", "三", "創 43", "腓 4；歌 1-4；帖前 1-5"], ["2026-08-06", "四", "創 44", "帖後 1-3；提前 1-6；提後 1"], ["2026-08-07", "五", "創 45", "提後 2-4；多 1-3；門；來 1-3"], ["2026-08-08", "六", "提前 6 (卷終)", "來 4-13"], ["2026-08-09", "日", "提後 1", "雅 1-5；彼前 1-5"], ["2026-08-10", "一", "提後 2", "彼後 1-3；約一 1-5；約二；約三"], ["2026-08-11", "二", "創 46", "猶；啟 1-9"], ["2026-08-12", "三", "創 47", "啟 10-19"], ["2026-08-13", "四", "創 48", "啟 20-22；創 1-7 (第三遍讀完)"], ["2026-08-14", "五", "創 49", "創 8-17"], ["2026-08-15", "六", "提後 3", "創 18-27"], ["2026-08-16", "日", "提後 4 (卷終)", "創 28-37"], ["2026-08-17", "一", "多 1", "創 38-47"], ["2026-08-18", "二", "創 50 (卷終)", "創 48-50；出 1-7"], ["2026-08-19", "三", "出 1", "出 8-17"], ["2026-08-20", "四", "出 2", "出 18-27"], ["2026-08-21", "五", "出 3", "出 28-37"], ["2026-08-22", "六", "多 2", "出 38-40；利 1-7"], ["2026-08-23", "日", "多 3 (卷終)", "利 8-17"], ["2026-08-24", "一", "門", "利 18-27"], ["2026-08-25", "二", "出 4", "民 1-10"], ["2026-08-26", "三", "出 5", "民 11-20"], ["2026-08-27", "四", "出 6", "民 21-30"], ["2026-08-28", "五", "出 7", "民 31-36；申 1-4"], ["2026-08-29", "六", "希 1", "申 5-14"], ["2026-08-30", "日", "希 2", "申 15-24"], ["2026-08-31", "一", "希 3", "申 25-34"], ["2026-09-01", "二", "出 8", "書 1-10"], ["2026-09-02", "三", "出 9", "書 11-20"], ["2026-09-03", "四", "出 10", "書 21-24；士 1-6"], ["2026-09-04", "五", "出 11", "士 7-16"], ["2026-09-05", "六", "希 4", "士 17-21；得 1-4；撒上 1"], ["2026-09-06", "日", "希 5", "撒上 2-11"], ["2026-09-07", "一", "希 6", "撒上 12-21"], ["2026-09-08", "二", "出 12", "撒上 22-31"], ["2026-09-09", "三", "出 13", "撒下 1-10"], ["2026-09-10", "四", "出 14", "撒下 11-20"], ["2026-09-11", "五", "出 15", "撒下 21-24；王上 1-6"], ["2026-09-12", "六", "希 7", "王上 7-16"], ["2026-09-13", "日", "希 8", "王上 17-22；王下 1-4"], ["2026-09-14", "一", "希 9", "王下 5-14"], ["2026-09-15", "二", "出 16", "王下 15-24"], ["2026-09-16", "三", "出 17", "王下 25；代上 1-9"], ["2026-09-17", "四", "出 18", "代上 10-19"], ["2026-09-18", "五", "出 19", "代上 20-29"], ["2026-09-19", "六", "希 10", "代下 1-10"], ["2026-09-20", "日", "希 11", "代下 11-20"], ["2026-09-21", "一", "希 12", "代下 21-30"], ["2026-09-22", "二", "出 20", "代下 31-36；拉 1-4"], ["2026-09-23", "三", "出 21", "拉 5-10；尼 1-4"], ["2026-09-24", "四", "出 22", "尼 5-13；斯 1"], ["2026-09-25", "五", "出 23", "斯 2-10；伯 1"], ["2026-09-26", "六", "希 13 (卷終)", "伯 2-11"], ["2026-09-27", "日", "雅 1", "伯 12-21"], ["2026-09-28", "一", "雅 2", "伯 22-31"], ["2026-09-29", "二", "出 24", "伯 32-41"], ["2026-09-30", "三", "出 25", "伯 42；詩 1-9"], ["2026-10-01", "四", "出 26", "詩 10-19"], ["2026-10-02", "五", "出 27", "詩 20-29"], ["2026-10-03", "六", "雅 3", "詩 30-39"], ["2026-10-04", "日", "雅 4", "詩 40-49"], ["2026-10-05", "一", "雅 5 (卷終)", "詩 50-59"], ["2026-10-06", "二", "出 28", "詩 60-69"], ["2026-10-07", "三", "出 29", "詩 70-79"], ["2026-10-08", "四", "出 30", "詩 80-89"], ["2026-10-09", "五", "出 31", "詩 90-99"], ["2026-10-10", "六", "彼前 1", "詩 100-109"], ["2026-10-11", "日", "彼前 2", "詩 110-119"], ["2026-10-12", "一", "彼前 3", "詩 120-129"], ["2026-10-13", "二", "出 32", "詩 130-139"], ["2026-10-14", "三", "出 33", "詩 140-149"], ["2026-10-15", "四", "出 34", "詩 150；箴 1-9"], ["2026-10-16", "五", "出 35", "箴 10-19"], ["2026-10-17", "六", "彼前 4", "箴 20-29"], ["2026-10-18", "日", "彼前 5 (卷終)", "箴 30-31；傳 1-8"], ["2026-10-19", "一", "彼後 1", "傳 9-12；歌 1-6"], ["2026-10-20", "二", "出 36", "歌 7-8；賽 1-8"], ["2026-10-21", "三", "出 37", "賽 9-18"], ["2026-10-22", "四", "出 38", "賽 19-28"], ["2026-10-23", "五", "出 39", "賽 29-38"], ["2026-10-24", "六", "彼後 2", "賽 39-48"], ["2026-10-25", "日", "彼後 3 (卷終)", "賽 49-58"], ["2026-10-26", "一", "約一 1", "賽 59-66；耶 1-2"], ["2026-10-27", "二", "出 40 (卷終)", "耶 3-12"], ["2026-10-28", "三", "利 1", "耶 13-22"], ["2026-10-29", "四", "利 2", "耶 23-32"], ["2026-10-30", "五", "利 3", "耶 33-42"], ["2026-10-31", "六", "約一 2", "耶 43-52"], ["2026-11-01", "日", "約一 3", "哀 1-5；結 1-5"], ["2026-11-02", "一", "約一 4", "結 6-15"], ["2026-11-03", "二", "利 4", "結 16-25"], ["2026-11-04", "三", "利 5", "結 26-35"], ["2026-11-05", "四", "利 6", "結 36-45"], ["2026-11-06", "五", "利 7", "結 46-48；但 1-7"], ["2026-11-07", "六", "約一 5 (卷終)", "但 8-12；何 1-5"], ["2026-11-08", "日", "約二", "何 6-14；珥 1"], ["2026-11-09", "一", "約三", "珥 2-3；摩 1-8"], ["2026-11-10", "二", "利 8", "摩 9；俄；拿；彌 1-4"], ["2026-11-11", "三", "利 9", "彌 5-7；鴻；哈；番 1-2"], ["2026-11-12", "四", "利 10", "番 3；該；亞 1-7"], ["2026-11-13", "五", "利 11", "亞 8-14；瑪 1-3"], ["2026-11-14", "六", "猶", "瑪 4；太 1-9"], ["2026-11-15", "日", "啟 1", "太 10-19"], ["2026-11-16", "一", "啟 2", "太 20-29"], ["2026-11-17", "二", "利 12", "太 30；可 1-9"], ["2026-11-18", "三", "利 13", "可 10-16；路 1-3"], ["2026-11-19", "四", "利 14", "路 4-13"], ["2026-11-20", "五", "利 15", "路 14-23"], ["2026-11-21", "六", "啟 3", "路 24；約 1-9"], ["2026-11-22", "日", "啟 4", "約 10-19"], ["2026-11-23", "一", "啟 5", "約 20-21；徒 1-8"], ["2026-11-24", "二", "利 16", "徒 9-18"], ["2026-11-25", "三", "利 17", "徒 19-28"], ["2026-11-26", "四", "利 18", "羅 1-10"], ["2026-11-27", "五", "利 19", "羅 11-16；林前 1-4"], ["2026-11-28", "六", "啟 6", "林前 5-14"], ["2026-11-29", "日", "啟 7", "林前 15-16；林後 1-8"], ["2026-11-30", "一", "啟 8", "林後 9-13；加 1-5"], ["2026-12-01", "二", "利 20", "加 6；弗 1-6；腓 1-3"], ["2026-12-02", "三", "利 21", "腓 4；歌 1-4；帖前 1-5"], ["2026-12-03", "四", "利 22", "帖後 1-3；提前 1-6；提後 1"], ["2026-12-04", "五", "利 23", "提後 2-4；多 1-3；門；來 1-3"], ["2026-12-05", "六", "啟 9", "來 4-13"], ["2026-12-06", "日", "啟 10", "雅 1-5；彼前 1-5"], ["2026-12-07", "一", "啟 11", "彼後；約一；約二；約三"], ["2026-12-08", "二", "利 24", "猶；啟 1-9"], ["2026-12-09", "三", "利 25", "啟 10-19"], ["2026-12-10", "四", "利 26", "啟 20-22；創 1-7 (第三遍讀完)"], ["2026-12-11", "五", "利 27 (卷終)", "創 8-17"], ["2026-12-12", "六", "啟 12", "創 18-27"], ["2026-12-13", "日", "啟 13", "創 28-37"], ["2026-12-14", "一", "啟 14", "創 38-47"], ["2026-12-15", "二", "民 1", "創 48-50；出 1-7"], ["2026-12-16", "三", "民 2", "出 8-17"], ["2026-12-17", "四", "民 3", "出 18-27"], ["2026-12-18", "五", "民 4", "出 28-37"], ["2026-12-19", "六", "啟 15", "出 38-40；利 1-7"], ["2026-12-20", "日", "啟 16", "利 8-17"], ["2026-12-21", "一", "啟 17", "利 18-27"], ["2026-12-22", "二", "民 5", "民 1-10"], ["2026-12-23", "三", "民 6", "民 11-20"], ["2026-12-24", "四", "民 7", "民 21-30"], ["2026-12-25", "五", "民 8", "民 31-36；申 1-4"], ["2026-12-26", "六", "啟 18", "申 5-14"], ["2026-12-27", "日", "啟 19", "申 15-24"], ["2026-12-28", "一", "啟 20", "申 25-34"], ["2026-12-29", "二", "民 9", "書 1-10"], ["2026-12-30", "三", "民 10", "書 11-20"], ["2026-12-31", "四", "民 11", "書 21-24；士 1-6"]
            ];
            year2025_Dec.forEach(d => addDay(d[0], d[1], d[2], d[3]));
            year2026.forEach(d => addDay(d[0], d[1], d[2], d[3]));
            return plans;
        };

        const BibleReader = ({ bookId, chapter, label, lang }) => { const [content, setContent] = useState([]); const [loading, setLoading] = useState(true); const [error, setError] = useState(null); useEffect(() => { const fetchScripture = async () => { setLoading(true); setError(null); if (!bookId || !chapter) { setError(lang === 'zh' ? "無法識別經文" : "Unknown Reference"); setLoading(false); return; } try { const version = lang === 'en' ? 'WEB' : 'CUV'; const response = await fetch(`https://bolls.life/get-chapter/${version}/${bookId}/${chapter}/`); if (!response.ok) throw new Error("API Error"); const data = await response.json(); if (!Array.isArray(data)) throw new Error("Format Error"); setContent(data); } catch (err) { setError(lang === 'zh' ? "載入失敗，請檢查網路。" : "Failed to load scripture."); } finally { setLoading(false); } }; fetchScripture(); }, [bookId, chapter, lang]); const t = TRANSLATIONS[lang]; if (loading) return ( <div className="flex flex-col items-center justify-center p-8 text-gray-400 gap-2 min-h-[150px] bg-gray-50 rounded-lg"> <RefreshCw className="animate-spin" size={24} /> <span className="text-sm">{t.loading}</span> </div> ); if (error) return <div className="p-6 text-center text-red-500 bg-red-50 rounded-lg"><p>{error}</p></div>; return ( <div className="bg-[#fffdf7] rounded-xl border border-gray-200 shadow-inner max-h-[60vh] flex flex-col mt-4 animate-in slide-in-from-top-2 fade-in overflow-hidden"> <div className="flex-none p-4 border-b border-gray-200 bg-[#fffdf7] z-10 flex justify-between items-center"> <h3 className="text-xl font-bold text-gray-800">{label}</h3> <span className="text-xs font-normal text-gray-400">({t.version})</span> </div> <div className="flex-1 overflow-y-auto p-6 custom-scrollbar"> <div className="text-xl md:text-2xl leading-loose text-gray-800 space-y-3 font-serif"> {content.map((v) => ( <div key={v.pk} className="flex gap-3 hover:bg-yellow-50/50 p-1 rounded transition-colors"> <span className="text-sm text-gray-400 font-sans mt-2 w-8 text-right shrink-0 select-none opacity-70">{v.verse}</span> <p className="flex-1">{v.text}</p> </div> ))} </div> </div> </div> ); };
        const PrintPreviewOverlay = ({ year, selectedMonths, plans, lang, onClose }) => { const t = TRANSLATIONS[lang]; const contentRef = useRef(null); const [isGenerating, setIsGenerating] = useState(false); const pagesData = useMemo(() => { return selectedMonths.sort((a,b) => a-b).map(month => { const prefix = `${year}-${String(month).padStart(2,'0')}`; const monthPlans = plans.filter(p => p.date.startsWith(prefix)); return { month, plans: monthPlans }; }); }, [year, selectedMonths, plans]); const handlePrint = () => { if (!contentRef.current) return; const printWindow = window.open('', '_blank'); if (!printWindow) { alert("請允許本網站開啟彈跳視窗以進行列印"); return; } const styles = Array.from(document.querySelectorAll('style, link[rel="stylesheet"]')).map(style => style.outerHTML).join('\n'); const content = contentRef.current.innerHTML; printWindow.document.write(`<!DOCTYPE html><html><head><title>PJBC Schedule Print</title><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><script src="https://cdn.tailwindcss.com"><\/script><script>tailwind.config = {theme: {extend: {screens: {'print': {'raw': 'print'}}}}}}<\/script>${styles}<style>body{background-color:white!important;margin:0;padding:0;-webkit-print-color-adjust:exact!important;print-color-adjust:exact!important;}::-webkit-scrollbar{display:none;}</style></head><body><div id="print-preview-root" style="position:static;width:100%;height:auto;overflow:visible;">${content}</div><script>window.onload=function(){setTimeout(function(){window.print();},800);};<\/script></body></html>`); printWindow.document.close(); }; const handleDownloadAllPNGs = async () => { if (!contentRef.current) return; setIsGenerating(true); try { const pages = contentRef.current.querySelectorAll('.print-page-container'); if (pages.length === 1) { const page = pages[0]; const canvas = await html2canvas(page, { scale: 2 }); const link = document.createElement('a'); const month = pagesData[0] ? pagesData[0].month : 1; link.download = `PJBC_Schedule_${year}_${month}.png`; link.href = canvas.toDataURL('image/png'); link.click(); } else if (pages.length > 1) { const zip = new JSZip(); for (let i = 0; i < pages.length; i++) { const page = pages[i]; await new Promise(r => setTimeout(r, 100)); const canvas = await html2canvas(page, { scale: 2 }); const imgData = canvas.toDataURL('image/png'); const base64Data = imgData.split(',')[1]; const month = pagesData[i] ? pagesData[i].month : (i + 1); zip.file(`PJBC_Schedule_${year}_${month}.png`, base64Data, { base64: true }); } const content = await zip.generateAsync({ type: "blob" }); const link = document.createElement('a'); link.href = window.URL.createObjectURL(content); link.download = `PJBC_Schedule_${year}_Images.zip`; link.click(); } } catch (err) { console.error("PNG/ZIP Generation failed", err); alert("圖片生成失敗，請重試"); } finally { setIsGenerating(false); } }; const handleDownloadPDF = async () => { if (!contentRef.current) return; setIsGenerating(true); try { const element = contentRef.current; const opt = { margin: 0, filename: `PJBC_Schedule_${year}.pdf`, image: { type: 'jpeg', quality: 0.98 }, html2canvas: { scale: 2 }, jsPDF: { unit: 'mm', format: 'a4', orientation: 'portrait' } }; await html2pdf().set(opt).from(element).save(); } catch (err) { console.error("PDF Generation failed", err); alert("PDF 生成失敗，請重試"); } finally { setIsGenerating(false); } }; return ( <div className="fixed inset-0 z-[9999] bg-gray-100 overflow-auto flex flex-col"> <div className="no-print-in-preview sticky top-0 bg-gray-900 text-white p-4 shadow-md flex flex-wrap justify-between items-center z-50 gap-4"> <div className="font-bold flex items-center gap-2 text-lg"> <FileText size={24} className="text-blue-400"/> {t.print_preview_btn} </div> <div className="flex flex-wrap gap-2 md:gap-3"> {isGenerating ? ( <div className="px-4 py-2 text-gray-300 flex items-center gap-2"> <RefreshCw className="animate-spin" size={16}/> Processing... </div> ) : ( <> <button onClick={handleDownloadAllPNGs} className="px-3 md:px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded text-sm transition-colors flex items-center gap-2 border border-gray-600"> <ImageIcon size={16}/> <span className="hidden md:inline">{t.download_png}</span> </button> <button onClick={handleDownloadPDF} className="px-3 md:px-4 py-2 bg-indigo-600 hover:bg-indigo-500 text-white rounded text-sm transition-colors flex items-center gap-2 shadow-sm"> <FileDown size={16}/> {t.download_pdf} </button> <button onClick={handlePrint} className="px-3 md:px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white font-bold rounded text-sm shadow-lg transition-all flex items-center gap-2"> <Printer size={16}/> {t.print_now} </button> </> )} <div className="w-px h-8 bg-gray-700 mx-1 hidden md:block"></div> <button onClick={onClose} className="px-3 md:px-4 py-2 bg-red-600/90 hover:bg-red-500 rounded text-sm transition-colors flex items-center gap-2 text-white"> <X size={16}/> {t.close_preview} </button> </div> </div> <div className="flex-1 p-4 md:p-8 print:p-0 flex justify-center print:block overflow-x-hidden bg-gray-200"> <div ref={contentRef} className="print:w-full"> {pagesData.map((page, idx) => { const monthLabel = lang === 'en' ? ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"][page.month - 1] : page.month; const monthFontSize = lang === 'en' ? '24px' : '36px'; const metaTop = lang === 'en' ? '22mm' : '14mm'; return ( <div key={page.month} className="print-page-container"> <div className="print-header"> <div className="print-title">{t.title}</div> <div className="print-subtitle">{t.print_subtitle}</div> <div className="print-meta" style={{ top: metaTop }}> <div className="print-meta-year">{year} {t.year}</div> <div className="print-meta-month" style={{fontSize: monthFontSize}}>{monthLabel} <span style={{fontSize:'16px', fontWeight:'normal'}}>{t.month}</span></div> </div> </div> <div className="table-wrapper"> <table className="design-table"> <thead> <tr> <th style={{width: '12%'}}>{t.date_col}</th> <th style={{width: '30%'}}>{t.daily_one}</th> <th style={{width: '6%'}}>{t.check_col}</th> <th style={{width: '46%'}}>{t.daily_ten}</th> <th style={{width: '6%'}}>{t.check_col}</th> </tr> </thead> <tbody> {page.plans.map((p, idx) => ( <tr key={p.date}> <td className="cell-date">{parseInt(p.date.split('-')[2])} <span className="cell-weekday">{lang === 'en' ? WEEKDAY_MAP[p.weekday] : p.weekday}</span></td> <td className="cell-scripture pl-2">{formatScriptureDisplay(p.dailyOne, lang)}</td> <td className="cell-check"><div className="design-checkbox"></div></td> <td className="cell-scripture text-gray-700 pl-2">{formatScriptureDisplay(p.dailyTen, lang)}</td> <td className="cell-check"><div className="design-checkbox"></div></td> </tr> ))} {Array.from({length: 31 - page.plans.length}).map((_, i) => ( <tr key={`empty-${i}`}> <td className="cell-date text-gray-200">-</td><td></td><td className="cell-check"><div className="design-checkbox opacity-20"></div></td><td></td><td className="cell-check"><div className="design-checkbox opacity-20"></div></td> </tr> ))} </tbody> </table> </div> <div className="print-footer"> <div>PJBC Bible Reading Schedule</div> <div className="flex items-center gap-1"><Fish size={12} /><span>水深之處，下網打魚</span></div> </div> </div> )})} </div> </div> </div> ); };
        const PrintModal = ({ isOpen, onClose, onConfirm, availableYears, lang }) => { const [selectedYear, setSelectedYear] = useState(new Date().getFullYear()); const [selectedMonths, setSelectedMonths] = useState([]); const t = TRANSLATIONS[lang]; if (!isOpen) return null; const toggleMonth = (m) => setSelectedMonths(prev => prev.includes(m) ? prev.filter(x => x !== m) : [...prev, m]); const selectAll = () => setSelectedMonths(Array.from({length:12}, (_,i)=>i+1)); const deselectAll = () => setSelectedMonths([]); return ( <div className="fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in no-print"> <div className="bg-white rounded-2xl shadow-2xl w-full max-w-md overflow-hidden flex flex-col animate-in zoom-in-95 border border-gray-100"> <div className="p-5 pb-4 border-b border-gray-100 flex justify-between items-center bg-gray-50"> <h3 className="font-bold text-lg text-gray-800 flex items-center gap-2"><Printer size={20} className="text-[#1E3A8A]" />{t.print_modal_title}</h3> <button onClick={onClose} className="p-1 hover:bg-gray-200 rounded-full text-gray-500 transition-colors"><X size={20}/></button> </div> <div className="p-6 space-y-6"> <p className="text-sm text-gray-600 leading-relaxed bg-blue-50 p-3 rounded-lg border border-blue-100">{t.print_desc}</p> <div> <label className="block text-xs font-bold text-gray-500 mb-2 uppercase tracking-wider">{t.year}</label> <div className="flex gap-2"> {availableYears.map(y => ( <button key={y} onClick={() => setSelectedYear(y)} className={`flex-1 py-2 rounded-lg font-bold border transition-all ${selectedYear === y ? 'bg-[#1E3A8A] text-white border-[#1E3A8A] shadow-md' : 'bg-white text-gray-600 border-gray-200 hover:bg-gray-50'}`}>{y}</button> ))} </div> </div> <div> <div className="flex justify-between items-center mb-2"> <label className="block text-xs font-bold text-gray-500 uppercase tracking-wider">{t.month}</label> <div className="flex gap-2"><button onClick={selectAll} className="text-[10px] text-blue-600 hover:underline">{t.select_all}</button><button onClick={deselectAll} className="text-[10px] text-gray-400 hover:underline">{t.deselect_all}</button></div> </div> <div className="grid grid-cols-4 gap-2"> {Array.from({length: 12}, (_, i) => i + 1).map(m => { const isSelected = selectedMonths.includes(m); return ( <button key={m} onClick={() => toggleMonth(m)} className={`py-2 rounded-md text-sm font-medium transition-all flex flex-col items-center justify-center border ${isSelected ? 'bg-blue-100 text-blue-800 border-blue-300 ring-1 ring-blue-300' : 'bg-white text-gray-600 border-gray-200 hover:border-gray-300 hover:bg-gray-50'}`}>{m} <span className="text-[10px] opacity-70">{lang === 'zh' ? '月' : ''}</span></button> ); })} </div> </div> </div> <div className="p-4 bg-gray-50 flex gap-3 border-t border-gray-100"> <button onClick={onClose} className="flex-1 py-2.5 rounded-lg border border-gray-300 text-gray-600 font-medium hover:bg-white hover:shadow-sm transition-all">{t.cancel}</button> <button onClick={() => onConfirm(selectedYear, selectedMonths)} disabled={selectedMonths.length === 0} className="flex-1 py-2.5 rounded-lg bg-[#1E3A8A] text-white font-bold shadow-md hover:bg-blue-900 disabled:opacity-50 disabled:cursor-not-allowed transition-all flex items-center justify-center gap-2"><Eye size={18} />{t.print_preview_btn}</button> </div> </div> </div> ); };

        const GraceCollectionModal = ({ isOpen, onClose, collectedCards, onSelectCard, lang }) => {
            if (!isOpen) return null;
            const t = TRANSLATIONS[lang];
            const [currentDate, setCurrentDate] = useState(new Date());

            const year = currentDate.getFullYear();
            const month = currentDate.getMonth() + 1;
            const daysInMonth = new Date(year, month, 0).getDate();
            const firstDay = new Date(year, month - 1, 1).getDay();
            const weekdays = lang === 'zh' ? ["日", "一", "二", "三", "四", "五", "六"] : ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"];

            return (
                <div className="fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in no-print">
                    <div className="bg-white rounded-2xl shadow-2xl w-full max-w-md overflow-hidden flex flex-col animate-in zoom-in-95 border border-gray-100">
                        {/* Header */}
                        <div className="p-5 pb-4 border-b border-gray-100 flex justify-between items-center bg-amber-50">
                            <h3 className="font-bold text-lg text-amber-800 flex items-center gap-2">
                                <Sparkles size={20} className="text-amber-600" />
                                {t.grace_btn}
                            </h3>
                            <button onClick={onClose} className="p-1 hover:bg-amber-100 rounded-full text-amber-800/60 transition-colors"><X size={20}/></button>
                        </div>
                        
                        {/* Calendar Header */}
                        <div className="p-4 flex items-center justify-between bg-amber-50/50">
                            <h2 className="font-bold text-lg text-gray-700 flex items-center gap-2">{year} / {month}</h2>
                            <div className="flex gap-1">
                                <button onClick={() => setCurrentDate(new Date(year, month - 2, 1))} className="p-1 hover:bg-gray-200 rounded-lg text-gray-500"><ChevronLeft size={20}/></button>
                                <button onClick={() => setCurrentDate(new Date(year, month, 1))} className="p-1 hover:bg-gray-200 rounded-lg text-gray-500"><ChevronRight size={20}/></button>
                            </div>
                        </div>

                        {/* Calendar Grid */}
                        <div className="p-4 pt-0">
                            <div className="grid grid-cols-7 text-center mb-2">
                                {weekdays.map(d => <div key={d} className="py-2 text-xs font-bold text-gray-400">{d}</div>)}
                            </div>
                            <div className="grid grid-cols-7 gap-1">
                                {Array.from({ length: firstDay }).map((_, i) => <div key={`empty-${i}`} className="aspect-square" />)}
                                {Array.from({ length: daysInMonth }).map((_, i) => {
                                    const d = i + 1;
                                    const dateStr = `${year}-${String(month).padStart(2,'0')}-${String(d).padStart(2,'0')}`;
                                    const hasCard = !!collectedCards[dateStr];
                                    
                                    return (
                                        <button 
                                            key={dateStr} 
                                            onClick={() => hasCard && onSelectCard(dateStr)}
                                            disabled={!hasCard}
                                            className={`aspect-square rounded-lg flex flex-col items-center justify-center relative transition-all border ${
                                                hasCard 
                                                ? 'bg-amber-50 border-amber-200 hover:bg-amber-100 hover:scale-105 cursor-pointer text-amber-900 shadow-sm' 
                                                : 'bg-gray-50 border-transparent text-gray-300 cursor-default'
                                            }`}
                                        >
                                            <span className="text-sm font-medium">{d}</span>
                                            {hasCard && <Star size={12} className="text-amber-500 fill-amber-500 mt-1" />}
                                        </button>
                                    );
                                })}
                            </div>
                        </div>

                        <div className="p-4 bg-gray-50 text-center text-xs text-gray-400 border-t border-gray-100">
                           {t.grace_empty_desc}
                        </div>
                    </div>
                </div>
            );
        };

        // --- 改良版：恩典籤卡片 Modal (Updated for Mobile & Inset Border) ---
        const GraceModal = ({ isOpen, onClose, card, date, mode, onNavigate, lang }) => {
            if (!isOpen || !card) return null;
            const t = TRANSLATIONS[lang];
            const isViewMode = mode === 'view';

            return (
                <div className="fixed inset-0 z-[60] flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm animate-in fade-in duration-300 no-print">
                    <div 
                        className="relative bg-white rounded-2xl shadow-2xl w-full max-w-sm max-h-[90vh] flex flex-col animate-card-appear overflow-hidden ring-1 ring-black/5"
                    >
                        {/* 裝飾：內縮邊框 (Inset Border) */}
                        <div className="absolute inset-3 border-[1.5px] border-[#1E3A8A] rounded-xl pointer-events-none z-20 opacity-80"></div>

                        {/* Navigation Buttons (View Mode Only) */}
                        {isViewMode && (
                            <>
                                <button 
                                    onClick={() => onNavigate(-1)} 
                                    className="absolute left-4 top-1/2 -translate-y-1/2 p-2 bg-white/90 hover:bg-blue-50 text-[#1E3A8A] rounded-full shadow-md border border-blue-100 transition-all z-30 active:scale-95"
                                >
                                    <ChevronLeft size={20}/>
                                </button>
                                <button 
                                    onClick={() => onNavigate(1)} 
                                    className="absolute right-4 top-1/2 -translate-y-1/2 p-2 bg-white/90 hover:bg-blue-50 text-[#1E3A8A] rounded-full shadow-md border border-blue-100 transition-all z-30 active:scale-95"
                                >
                                    <ChevronRight size={20}/>
                                </button>
                            </>
                        )}

                        {/* Scrollable Content Container */}
                        <div className="flex-1 overflow-y-auto custom-scrollbar relative z-10">
                             <div className="flex flex-col items-center px-6 pt-10 pb-4">
                                
                                {/* Header */}
                                <div className="text-center mb-6 relative z-10">
                                    {/* 修改：加大日期與分類的字體 (text-sm)，調整 padding 與 icon 大小 */}
                                    <div className="inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-blue-50 text-[#1E3A8A] font-bold text-sm tracking-wide uppercase mb-4 border border-blue-100">
                                        <Sparkles size={14} />
                                        <span>{date}</span>
                                        <span className="opacity-30">|</span>
                                        <span>{card.category}</span>
                                    </div>
                                    <h2 className="text-2xl font-bold text-[#1E3A8A] font-serif-tc tracking-wide leading-tight px-2 drop-shadow-sm">
                                        {card.title}
                                    </h2>
                                </div>

                                {/* Verse */}
                                <div className="w-full relative py-4 mb-4 border-y border-blue-50/60">
                                     <Quote size={20} className="absolute -top-2.5 left-2 text-blue-100 transform -scale-x-100" />
                                     <p className="text-lg text-center font-bold text-slate-800 leading-relaxed font-serif-tc px-2">
                                        {card.verse}
                                     </p>
                                     <Quote size={20} className="absolute -bottom-2.5 right-2 text-blue-100" />
                                     <div className="text-center mt-3">
                                        <span className="text-xs font-bold text-slate-400 tracking-widest uppercase font-sans bg-white px-2 relative z-10">
                                            {card.reference}
                                        </span>
                                     </div>
                                </div>

                                {/* Message */}
                                <div className="w-full p-4 rounded-xl bg-slate-50 border border-slate-100 shadow-inner mb-2">
                                    <p className="text-base text-slate-700 text-justify leading-7 font-sans font-medium">
                                        {card.message}
                                    </p>
                                </div>
                            </div>
                        </div>

                        {/* Footer */}
                        <div className="px-6 pb-6 pt-2 z-10 bg-white relative">
                            {/* Tags - 修改：字體改小 (text-[10px])，調整 padding */}
                             <div className="flex flex-wrap gap-2 justify-center mb-5">
                                {card.tags.map(tag => (
                                    <span key={tag} className="text-[10px] font-bold text-[#1E3A8A] px-2 py-0.5 rounded-full bg-blue-50 border border-blue-100 tracking-wide">#{tag}</span>
                                ))}
                            </div>
                            <button 
                                onClick={onClose} 
                                className="w-full py-3 bg-[#1E3A8A] hover:bg-blue-800 text-white rounded-lg text-sm font-bold tracking-[0.2em] shadow-lg transition-all transform active:scale-[0.98] uppercase flex items-center justify-center gap-2"
                            >
                                {t.grace_close}
                            </button>
                        </div>
                    </div>
                </div>
            );
        };

        // --- Toast 元件 ---
        const Toast = ({ message, subMessage, onClose, type = 'star' }) => {
            useEffect(() => {
                const duration = type === 'unlock' ? 6000 : 1500;
                const timer = setTimeout(onClose, duration);
                return () => clearTimeout(timer);
            }, [onClose, type]);

            const isUnlock = type === 'unlock';
            return (
                <div className={`fixed top-24 left-1/2 -translate-x-1/2 z-[100] w-max max-w-[90%] animate-fade-in-up pl-5 pr-12 py-4 rounded-xl shadow-2xl flex items-start gap-4 text-sm md:text-base border transition-colors ${
                    isUnlock 
                    ? "bg-gradient-to-r from-blue-900 to-indigo-900 text-white border-blue-400/30" 
                    : "bg-gray-800/95 backdrop-blur text-white border-white/10 items-center pr-10"
                }`}>
                    {isUnlock ? (
                        <div className="p-2 bg-amber-400 rounded-full text-blue-900 animate-bounce-short mt-1 shrink-0"><Gift size={20} /></div>
                    ) : (
                        <Star className="text-yellow-400 fill-yellow-400 shrink-0" size={20} />
                    )}
                    <div className="flex flex-col text-left">
                        <span className={isUnlock ? "font-bold text-amber-300 text-xs mb-0.5" : "hidden"}>{isUnlock ? "獎勵通知" : ""}</span>
                        <span className={isUnlock ? "font-bold text-lg leading-tight" : ""}>{message}</span>
                        {subMessage && (
                            <span className="text-sm font-bold mt-2 font-serif-tc border-t border-white/20 pt-2 block leading-relaxed text-white">
                                「{subMessage}」
                            </span>
                        )}
                    </div>
                    
                    <button 
                        onClick={(e) => { e.stopPropagation(); onClose(); }}
                        className="absolute top-2 right-2 p-1.5 rounded-full text-white/50 hover:text-white hover:bg-white/10 transition-colors"
                        aria-label="Close notification"
                    >
                        <X size={16} />
                    </button>
                </div>
            );
        };

        // --- JourneyView 元件 ---
        const JourneyView = ({ starCount, lang }) => {
            const t = TRANSLATIONS[lang];
            const [activeSection, setActiveSection] = useState('characters'); // 'characters' or 'locations'
            
            const unlockedChars = JOURNEY_DATA.characters.filter(c => starCount >= c.stars);
            const lockedChars = JOURNEY_DATA.characters.filter(c => starCount < c.stars);
            
            const unlockedLocs = JOURNEY_DATA.locations.filter(l => starCount >= l.stars);
            const nextLockedLoc = JOURNEY_DATA.locations.find(l => starCount < l.stars);
            
            const getText = (obj, key) => lang === 'zh' ? obj[key] : (obj[`${key}_en`] || obj[key]);
            
            return (
                <div className="max-w-4xl mx-auto space-y-6 pb-24 animate-in slide-in-from-bottom-4 duration-500">
                    <div className="bg-gradient-to-br from-[#1E3A8A] to-[#2563EB] text-white p-6 md:p-8 rounded-2xl shadow-lg relative overflow-hidden">
                        <div className="relative z-10">
                            <div className="flex items-center gap-2 text-blue-200 mb-1 font-medium">
                                <Milestone size={18} />
                                {t.journey_subtitle}
                            </div>
                            <h2 className="text-3xl font-bold mb-4">{t.journey_title}</h2>
                            <div className="flex items-end gap-3">
                                <div className="text-6xl font-black leading-none">{starCount}</div>
                                <div className="text-xl mb-1 opacity-90">{t.days_unit}</div>
                            </div>
                        </div>
                        <div className="absolute right-0 bottom-0 opacity-10">
                            <Map size={180} />
                        </div>
                    </div>

                    <div className="bg-white/80 backdrop-blur border border-blue-100 rounded-xl p-4 flex flex-col md:flex-row items-start md:items-center justify-between gap-3 shadow-sm">
                        <div className="flex items-center gap-2 text-[#1E3A8A] font-bold text-sm shrink-0">
                            <Sparkles size={16} className="text-amber-500 fill-amber-500" />
                            {t.rules_title}
                        </div>
                        <div className="flex flex-col sm:flex-row gap-2 sm:gap-6 text-xs md:text-sm text-gray-600 w-full md:w-auto">
                            <div className="flex items-center gap-2 bg-indigo-50/50 px-3 py-1.5 rounded-lg border border-indigo-100/50">
                                <div className="w-1.5 h-1.5 rounded-full bg-indigo-400"></div>
                                {t.rules_char}
                            </div>
                            <div className="flex items-center gap-2 bg-blue-50/50 px-3 py-1.5 rounded-lg border border-blue-100/50">
                                <div className="w-1.5 h-1.5 rounded-full bg-blue-400"></div>
                                {t.rules_loc}
                            </div>
                        </div>
                    </div>

                    <div className="flex p-1 bg-gray-200/80 rounded-xl">
                        <button onClick={() => setActiveSection('characters')} className={`flex-1 py-3 rounded-lg font-bold text-sm md:text-base flex items-center justify-center gap-2 transition-all ${activeSection === 'characters' ? 'bg-white text-[#1E3A8A] shadow-sm ring-1 ring-gray-200' : 'text-gray-500 hover:text-gray-700'}`}> <Award size={18} /> {t.character_unlock} </button>
                        <button onClick={() => setActiveSection('locations')} className={`flex-1 py-3 rounded-lg font-bold text-sm md:text-base flex items-center justify-center gap-2 transition-all ${activeSection === 'locations' ? 'bg-white text-blue-600 shadow-sm ring-1 ring-gray-200' : 'text-gray-500 hover:text-gray-700'}`}> <Map size={18} /> {t.location_map} </button>
                    </div>

                    {activeSection === 'characters' && (
                        <div className="animate-in fade-in slide-in-from-right-4 duration-300">
                            <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                                {unlockedChars.length === 0 && (
                                    <div className="col-span-full py-12 text-center bg-white rounded-2xl border border-dashed border-gray-300 text-gray-400">
                                        <Sparkles size={32} className="mx-auto mb-2 opacity-50" />
                                        <p>{t.char_locked_desc}</p>
                                    </div>
                                )}
                                {unlockedChars.map(char => (
                                    <div key={char.id} className="bg-white p-5 rounded-xl border border-gray-200 shadow-sm hover:shadow-md transition-shadow relative overflow-hidden group">
                                        <div className="absolute top-0 right-0 p-3 opacity-5 group-hover:opacity-10 transition-opacity">
                                            <Award size={60} className="text-amber-500" />
                                        </div>
                                        <div className="flex items-start justify-between mb-4 relative z-10">
                                            <div className="flex-1 flex gap-3">
                                                <div className="shrink-0 mt-1">
                                                    {char.gender === 'm' ? <AvatarMale /> : <AvatarFemale />}
                                                </div>
                                                <div className="flex-1">
                                                    <div className="text-xs font-bold text-amber-600 uppercase tracking-wide mb-2">{getText(char, 'theme')}</div>
                                                    <div className="inline-block bg-indigo-50 px-4 py-2 rounded-lg border border-indigo-100">
                                                        <div className="text-2xl font-bold text-indigo-900 leading-none">{getText(char, 'name')}</div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div className="w-8 h-8 rounded-full bg-amber-50 flex items-center justify-center text-amber-600 font-bold text-xs shrink-0 ml-2">
                                                {char.stars}
                                            </div>
                                        </div>
                                        <div className="relative z-10 pl-1 mt-2">
                                            <p className="text-gray-900 leading-relaxed font-bold text-base">「{getText(char, 'blessing')}」</p>
                                        </div>
                                    </div>
                                ))}
                                {lockedChars.length > 0 && (
                                    <div className="bg-gray-50 p-5 rounded-xl border border-gray-200 border-dashed flex items-center justify-center text-center opacity-70">
                                        <div>
                                            <Lock size={24} className="mx-auto text-gray-400 mb-2" />
                                            <div className="font-bold text-gray-500">{t.next_witness}</div>
                                            <div className="text-xs text-gray-400 mt-1">{t.need_stars} {lockedChars[0].stars} {t.days_unit}</div>
                                        </div>
                                    </div>
                                )}
                            </div>
                        </div>
                    )}

                    {activeSection === 'locations' && (
                        <div className="bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden animate-in fade-in slide-in-from-right-4 duration-300">
                            <div className="p-5 border-b border-gray-100 flex items-center gap-2 bg-gray-50/50">
                                <Map className="text-blue-600" size={20} />
                                <h3 className="font-bold text-gray-800 text-lg">{t.location_map}</h3>
                            </div>
                            <div className="p-6">
                                <div className="space-y-0 relative">
                                    <div className="absolute left-[19px] top-4 bottom-4 w-0.5 bg-gray-200 z-0"></div>
                                    {unlockedLocs.length === 0 && (
                                        <div className="relative z-10 flex gap-4 pb-8">
                                            <div className="w-10 h-10 rounded-full bg-blue-100 border-4 border-white shadow-sm flex items-center justify-center shrink-0">
                                                <Anchor size={18} className="text-blue-600" />
                                            </div>
                                            <div className="pt-2">
                                                <div className="font-bold text-gray-800 text-lg">{t.start_point}</div>
                                                <div className="text-sm text-gray-500 mt-1">{t.start_desc}</div>
                                            </div>
                                        </div>
                                    )}
                                    {unlockedLocs.map((loc, idx) => {
                                        const isCurrent = idx === unlockedLocs.length - 1;
                                        return (
                                            <div key={loc.id} className="relative z-10 flex gap-4 pb-8 last:pb-0 group">
                                                <div className={`w-10 h-10 rounded-full border-4 border-white shadow-sm flex items-center justify-center shrink-0 transition-colors ${isCurrent ? 'bg-blue-600 text-white ring-2 ring-blue-200' : 'bg-blue-100 text-blue-600'}`}>
                                                    {isCurrent ? <Map size={18} /> : <CheckCircle size={18} />}
                                                </div>
                                                <div className="pt-1 flex-1">
                                                    <div className="flex items-center gap-3 mb-1">
                                                        <div className={`font-bold text-lg ${isCurrent ? 'text-blue-700' : 'text-gray-800'} flex items-center gap-2`}>
                                                            {getText(loc, 'name')}
                                                            <span className="text-[10px] px-1.5 py-0.5 rounded border border-gray-200 text-gray-500 font-normal bg-white whitespace-nowrap">
                                                                {getText(loc, 'book')}
                                                            </span>
                                                        </div>
                                                        {isCurrent && <span className="text-[10px] bg-blue-100 text-blue-700 px-2 py-0.5 rounded-full font-bold whitespace-nowrap">{t.current_pos}</span>}
                                                    </div>
                                                    <div className="text-sm text-gray-500 font-medium mb-2">{getText(loc, 'theme')}</div>
                                                    <div className="text-base text-gray-900 leading-relaxed font-bold bg-gray-50 p-3 rounded-lg border border-gray-100 group-hover:bg-blue-50/30 transition-colors">
                                                        {getText(loc, 'meditation')}
                                                    </div>
                                                </div>
                                            </div>
                                        );
                                    })}
                                    {nextLockedLoc && (
                                        <div className="relative z-10 flex gap-4 pt-8">
                                            <div className="w-10 h-10 rounded-full bg-gray-100 border-4 border-white flex items-center justify-center shrink-0 grayscale opacity-70">
                                                <Lock size={16} className="text-gray-400" />
                                            </div>
                                            <div className="pt-2 opacity-60">
                                                <div className="font-bold text-gray-500 text-lg flex items-center gap-2">
                                                    {getText(nextLockedLoc, 'name')}
                                                    <span className="text-xs font-normal border border-gray-300 rounded px-1.5 py-0.5">{nextLockedLoc.stars} {t.days_unit}</span>
                                                    <span className="text-xs font-normal border border-dashed border-gray-300 rounded px-1.5 py-0.5 bg-white/50">{getText(nextLockedLoc, 'book')}</span>
                                                </div>
                                                <div className="text-sm text-gray-400 mt-1">{t.locked}</div>
                                            </div>
                                        </div>
                                    )}
                                </div>
                            </div>
                        </div>
                    )}
                </div>
            );
        };

        function App() {
            const [activeTab, setActiveTab] = useState('home');
            const [lang, setLang] = useState('zh'); 
            const [plans, setPlans] = useState([]);
            const [userState, setUserState] = useState({
                readStatus: {},
                notes: {},
                collectedCards: {} 
            });
            const [selectedDate, setSelectedDate] = useState(null);
            const [loading, setLoading] = useState(true);
            const [currentCalendarDate, setCurrentCalendarDate] = useState(new Date());
            const [isPrintModalOpen, setIsPrintModalOpen] = useState(false);
            const [printPreviewData, setPrintPreviewData] = useState(null);
            const [isGraceModalOpen, setIsGraceModalOpen] = useState(false);
            const [isGraceCollectionOpen, setIsGraceCollectionOpen] = useState(false);
            const [currentGraceCard, setCurrentGraceCard] = useState(null); 
            const [toast, setToast] = useState(null);

            const t = TRANSLATIONS[lang];

            useEffect(() => {
                const loadData = () => {
                    const initial = generateInitialData();
                    setPlans(initial);
                    const savedUser = localStorage.getItem('pjbc_user');
                    if (savedUser) {
                        const parsed = JSON.parse(savedUser);
                        if (!parsed.collectedCards) parsed.collectedCards = {};
                        setUserState(parsed);
                    }
                    setLoading(false);
                };
                loadData();
            }, []);

            useEffect(() => {
                if (!loading) localStorage.setItem('pjbc_user', JSON.stringify(userState));
            }, [userState, loading]);

            const starCount = Object.values(userState.readStatus).filter(Boolean).length;

            const toggleRead = (date) => {
                const isCurrentlyRead = !!userState.readStatus[date];
                if (!isCurrentlyRead) {
                    const newCount = starCount + 1;
                    let updatedCollectedCards = { ...userState.collectedCards };
                    
                    if (!updatedCollectedCards[date]) {
                        const cards = GRACE_CARDS_DATA.fortunes;
                        
                        // 過濾掉已收藏的卡片 ID
                        const collectedIds = new Set(Object.values(updatedCollectedCards).map(c => c.id));
                        const availableCards = cards.filter(c => !collectedIds.has(c.id));
                        
                        let randomCard;
                        if (availableCards.length > 0) {
                            // 優先從未收藏的卡片中隨機抽取
                            randomCard = availableCards[Math.floor(Math.random() * availableCards.length)];
                        } else {
                            // 若全部都已收藏（極少見），則從所有卡片中隨機抽取
                            randomCard = cards[Math.floor(Math.random() * cards.length)];
                        }

                        updatedCollectedCards[date] = randomCard;
                        setCurrentGraceCard({
                            card: randomCard,
                            date: date,
                            mode: 'daily'
                        });
                        setIsGraceModalOpen(true);
                    }

                    const unlockedChar = JOURNEY_DATA.characters.find(c => c.stars === newCount);
                    const unlockedLoc = JOURNEY_DATA.locations.find(l => l.stars === newCount);

                    if (unlockedChar) {
                        const name = lang === 'zh' ? unlockedChar.name : unlockedChar.name_en;
                        const blessing = lang === 'zh' ? unlockedChar.blessing : unlockedChar.blessing_en;
                        setToast({ msg: `${t.unlock_toast}${name}`, subMsg: blessing, type: 'unlock' });
                    } else if (unlockedLoc) {
                        const name = lang === 'zh' ? unlockedLoc.name : unlockedLoc.name_en;
                        const meditation = lang === 'zh' ? unlockedLoc.meditation : unlockedLoc.meditation_en;
                        setToast({ msg: `${t.unlock_toast}${name}`, subMsg: meditation, type: 'unlock' });
                    } 
                    
                    setUserState(prev => ({ 
                        ...prev, 
                        readStatus: { ...prev.readStatus, [date]: !isCurrentlyRead },
                        collectedCards: updatedCollectedCards
                    }));
                } else {
                    setUserState(prev => ({ ...prev, readStatus: { ...prev.readStatus, [date]: !isCurrentlyRead } }));
                }
            };
            
            const openMyGraceCards = () => {
                setIsGraceCollectionOpen(true);
            };

            const selectGraceCardFromCalendar = (date) => {
                const card = userState.collectedCards[date];
                if (card) {
                    setCurrentGraceCard({
                        card: card,
                        date: date,
                        mode: 'view'
                    });
                    setIsGraceCollectionOpen(false); 
                    setIsGraceModalOpen(true);
                }
            };

            const navigateGraceCard = (direction) => {
                if (!currentGraceCard || !currentGraceCard.date) return;
                
                const collectedDates = Object.keys(userState.collectedCards).sort();
                const currentIndex = collectedDates.indexOf(currentGraceCard.date);
                if (currentIndex === -1) return;

                const newIndex = currentIndex + direction;
                if (newIndex >= 0 && newIndex < collectedDates.length) {
                    const newDate = collectedDates[newIndex];
                    setCurrentGraceCard({
                        card: userState.collectedCards[newDate],
                        date: newDate,
                        mode: 'view'
                    });
                }
            };

            const handlePrintClick = () => setIsPrintModalOpen(true);
            const handlePreviewConfirm = (year, months) => {
                setIsPrintModalOpen(false);
                setPrintPreviewData({ year, selectedMonths: months });
            };
            const closePreview = () => setPrintPreviewData(null);

            // 新增：處理從 DetailCard 開啟恩典籤的邏輯
            const handleOpenGraceCard = (date) => {
                const card = userState.collectedCards[date];
                if (card) {
                    setCurrentGraceCard({
                        card: card,
                        date: date,
                        mode: 'view' // 設定為查看模式，啟用左右切換
                    });
                    setIsGraceModalOpen(true);
                }
            };

            // ... (DetailCard, CalendarView, TableView, PrintPortal - 保持不變) ...
            
            // --- 修正 DetailCard 的日期導航 ---
            const DetailCard = ({ date, onNavigate, onOpenGraceCard }) => { // 接收 onOpenGraceCard
                const plan = plans.find(p => p.date === date); 
                const [readingQuery, setReadingQuery] = useState(null); 
                
                useEffect(() => { setReadingQuery(null); }, [date]); 
                if (!plan) return <div className="p-10 text-center text-gray-500">{t.no_data}</div>; 
                
                const isRead = userState.readStatus[date]; 
                const dailyOneReadings = parseScriptureString(plan.dailyOne); 
                const dailyTenReadings = parseScriptureString(plan.dailyTen); 
                
                // 修正後的日期導航 (避免時區問題)
                const handlePrev = () => { 
                    const [y, m, d] = date.split('-').map(Number);
                    const dateObj = new Date(y, m - 1, d);
                    dateObj.setDate(dateObj.getDate() - 1);
                    onNavigate(formatDateLocal(dateObj)); 
                }; 
                
                const handleNext = () => { 
                    const [y, m, d] = date.split('-').map(Number);
                    const dateObj = new Date(y, m - 1, d);
                    dateObj.setDate(dateObj.getDate() + 1);
                    onNavigate(formatDateLocal(dateObj)); 
                }; 
                
                const renderButtons = (readings, source) => ( <div className="flex flex-wrap gap-2 mt-2"> {readings.map((r, idx) => { const isSelected = readingQuery && readingQuery.bookId === r.bookId && readingQuery.chapter === r.chapter && readingQuery.source === source; const label = getButtonLabel(r, lang); return ( <button key={idx} onClick={() => setReadingQuery(isSelected ? null : { ...r, source, label })} className={`text-xs px-3 py-1.5 rounded-full border flex items-center gap-1 transition-colors ${isSelected ? "bg-blue-600 text-white border-blue-600 shadow-md" : "bg-white text-blue-600 border-blue-200 hover:bg-blue-50"}`}> {isSelected ? <X size={12}/> : <Book size={12}/>} {label} </button> ); })} </div> ); return ( <div className="space-y-6"> <div className="flex items-center justify-between"> <button onClick={handlePrev} className="p-2 hover:bg-gray-100 rounded-full text-gray-400 hover:text-blue-600 transition-colors"><ChevronLeft size={28} /></button> <div className="text-center"> <h2 className="text-3xl font-bold text-[#1E3A8A] mb-1">{parseInt(date.split('-')[1])} / {parseInt(date.split('-')[2])} <span className="text-lg ml-2 font-medium text-gray-500">({lang === 'en' ? WEEKDAY_MAP[plan.weekday] : plan.weekday})</span></h2> <div className="text-gray-400 font-medium">{date.split('-')[0]}</div> </div> <button onClick={handleNext} className="p-2 hover:bg-gray-100 rounded-full text-gray-400 hover:text-blue-600 transition-colors"><ChevronRight size={28} /></button> </div> <div className="flex justify-center"> <button onClick={() => toggleRead(date)} className={`w-full max-w-xs py-3 rounded-full flex items-center justify-center gap-2 font-bold transition-all shadow-md transform hover:scale-[1.02] active:scale-95 ${isRead ? "bg-green-500 text-white shadow-green-200 ring-2 ring-green-100" : "bg-white border-2 border-gray-200 text-gray-600 hover:border-blue-300 hover:text-blue-600"}`}> {isRead ? <CheckCircle size={22} /> : <Circle size={22} />}{isRead ? t.marked : t.mark_read} </button> </div> 
                
                {/* 修改部分：將恩典籤顯示改為按鈕 */}
                {userState.collectedCards[date] && ( 
                    <button 
                        onClick={() => onOpenGraceCard(date)}
                        className="w-full bg-amber-50 p-3 rounded-lg border border-amber-200 flex items-center justify-center gap-2 text-amber-700 text-sm font-bold hover:bg-amber-100 transition-colors shadow-sm active:scale-[0.98] group"
                    > 
                        <Heart size={16} className="fill-amber-500 text-amber-500 group-hover:scale-110 transition-transform" /> 
                        {t.grace_collected} 
                        <span className="text-xs opacity-70 ml-1 font-normal border-l border-amber-300 pl-2">{t.grace_view_btn}</span>
                    </button> 
                )} 
                
                <div className="flex flex-col gap-4"> <div className="bg-blue-50/50 p-4 rounded-xl border border-blue-100 relative group hover:border-blue-200 transition-all"> <div className="absolute right-0 top-0 p-2 opacity-10"><BookOpen size={40} className="text-[#1E3A8A]" /></div> <div className="text-xs text-blue-600 font-bold mb-1">{t.daily_one}</div> <div className="text-lg font-bold text-gray-800">{formatScriptureDisplay(plan.dailyOne, lang)}</div> {renderButtons(dailyOneReadings, 'one')} {readingQuery && readingQuery.source === 'one' && (<BibleReader bookId={readingQuery.bookId} chapter={readingQuery.chapter} label={readingQuery.label} lang={lang} />)} </div> <div className="bg-orange-50/50 p-4 rounded-xl border border-orange-100 relative group hover:border-orange-200 transition-all"> <div className="absolute right-0 top-0 p-2 opacity-10"><Sparkles size={40} className="text-[#D97706]" /></div> <div className="text-xs text-orange-600 font-bold mb-1">{t.daily_ten}</div> <div className="text-lg font-bold text-gray-800 leading-snug">{formatScriptureDisplay(plan.dailyTen, lang)}</div> {renderButtons(dailyTenReadings, 'ten')} {readingQuery && readingQuery.source === 'ten' && (<BibleReader bookId={readingQuery.bookId} chapter={readingQuery.chapter} label={readingQuery.label} lang={lang} />)} </div> </div> </div> ); };
            
            const CalendarView = ({ currentDate, setCurrentDate }) => { 
                const year = currentDate.getFullYear(); 
                const month = currentDate.getMonth() + 1; 
                const daysInMonth = new Date(year, month, 0).getDate(); 
                const firstDay = new Date(year, month - 1, 1).getDay(); 
                const weekdays = lang === 'zh' ? ["日", "一", "二", "三", "四", "五", "六"] : ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"]; 
                
                return ( 
                    <div className="bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden h-full flex flex-col"> 
                        <div className="p-4 flex items-center justify-between border-b border-gray-100 bg-gray-50/50"> 
                            <h2 className="font-bold text-lg text-gray-800 flex items-center gap-2"><CalendarIcon size={20} className="text-[#1E3A8A]"/>{year} / {month}</h2> 
                            <div className="flex gap-1"> 
                                <button onClick={() => setCurrentDate(new Date(year, month - 2, 1))} className="p-1 hover:bg-gray-200 rounded-lg text-gray-500"><ChevronLeft size={20}/></button> 
                                <button onClick={() => setCurrentDate(new Date(year, month, 1))} className="p-1 hover:bg-gray-200 rounded-lg text-gray-500"><ChevronRight size={20}/></button> 
                            </div> 
                        </div> 
                        <div className="grid grid-cols-7 text-center border-b border-gray-100 bg-gray-50/30"> {weekdays.map(d => <div key={d} className="py-3 text-xs font-bold text-gray-400">{d}</div>)} </div> 
                        <div className="grid grid-cols-7 auto-rows-fr flex-1"> 
                            {Array.from({ length: firstDay }).map((_, i) => <div key={`empty-${i}`} className="min-h-[80px] bg-gray-50/10 border-r border-b border-gray-100 last:border-r-0" />)} 
                            {Array.from({ length: daysInMonth }).map((_, i) => { 
                                const d = i + 1; 
                                const dateStr = `${year}-${String(month).padStart(2,'0')}-${String(d).padStart(2,'0')}`; 
                                const plan = plans.find(p => p.date === dateStr); 
                                const isRead = userState.readStatus[dateStr]; 
                                // 修正：使用台灣時間判斷「今天」
                                const isToday = getTodayStrInTaiwan() === dateStr; 
                                
                                return ( 
                                    <div key={dateStr} onClick={() => setSelectedDate(dateStr)} className={`min-h-[80px] p-2 border-r border-b border-gray-100 cursor-pointer transition-all hover:bg-blue-50/50 relative group ${isToday ? 'bg-blue-50/20' : ''}`}> 
                                        <div className="flex justify-between items-start mb-1"> 
                                            <span className={`text-sm w-7 h-7 flex items-center justify-center rounded-full font-bold transition-all ${isToday ? 'bg-[#1E3A8A] text-white shadow-md' : 'text-gray-600 group-hover:bg-gray-200'}`}>{d}</span> 
                                            <div className="flex gap-1"> {isRead && <CheckCircle size={16} className="text-green-500" />} </div> 
                                        </div> 
                                        {plan ? ( 
                                            <div className="space-y-1 mt-2"> 
                                                <div className="text-[9px] text-[#1E3A8A] font-medium bg-blue-100/40 px-1.5 py-0.5 rounded leading-tight truncate">{formatCalendarDisplay(plan.dailyOne, lang)}</div> 
                                                <div className="hidden md:block text-[9px] text-gray-500 px-1 mt-0.5 leading-tight truncate">{formatCalendarDisplay(plan.dailyTen, lang)}</div> 
                                            </div> 
                                        ) : <span className="text-[10px] text-gray-300"></span>} 
                                    </div> 
                                ); 
                            })} 
                        </div> 
                    </div> 
                ); 
            };
            const TableView = () => { const [search, setSearch] = useState(""); const [filterYear, setFilterYear] = useState(currentCalendarDate.getFullYear()); const [filterMonth, setFilterMonth] = useState(currentCalendarDate.getMonth() + 1); const handlePrevMonth = () => { if (filterMonth === 1) { setFilterMonth(12); setFilterYear(prev => prev - 1); } else { setFilterMonth(prev => prev - 1); } }; const handleNextMonth = () => { if (filterMonth === 12) { setFilterMonth(1); setFilterYear(prev => prev + 1); } else { setFilterMonth(prev => prev + 1); } }; const filtered = useMemo(() => { const prefix = `${filterYear}-${String(filterMonth).padStart(2,'0')}`; return plans.filter(p => p.date.startsWith(prefix) && (p.dailyOne.includes(search) || p.dailyTen.includes(search))); }, [plans, filterYear, filterMonth, search]); return ( <div className="space-y-4 max-w-4xl mx-auto pb-24"> <div className="bg-white p-4 rounded-xl border border-gray-200 sticky top-0 z-20 shadow-sm flex flex-col md:flex-row gap-4 no-print"> <div className="flex items-center gap-2 justify-between md:justify-start"> <button onClick={handlePrevMonth} className="p-2 hover:bg-gray-100 rounded-lg text-gray-500 transition-colors border border-transparent hover:border-gray-200"><ChevronLeft size={20} /></button> <div className="flex gap-2"> <select value={filterYear} onChange={e => setFilterYear(Number(e.target.value))} className="bg-gray-50 border border-gray-200 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-100">{[2025, 2026, 2027].map(y => <option key={y} value={y}>{y}</option>)}</select> <select value={filterMonth} onChange={e => setFilterMonth(Number(e.target.value))} className="bg-gray-50 border border-gray-200 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-100">{Array.from({length:12}).map((_,i) => <option key={i+1} value={i+1}>{i+1}月</option>)}</select> </div> <button onClick={handleNextMonth} className="p-2 hover:bg-gray-100 rounded-lg text-gray-500 transition-colors border border-transparent hover:border-gray-200"><ChevronRight size={20} /></button> </div> <div className="relative flex-1"> <Search className="absolute left-3 top-1/2 -translate-y-1/2 text-gray-400" size={16}/><input type="text" placeholder="Search..." className="w-full pl-9 pr-4 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-100" value={search} onChange={e => setSearch(e.target.value)} /> </div> </div> <div className="space-y-3 no-print"> {filtered.length === 0 && <div className="text-center py-10 text-gray-400">無資料</div>} {filtered.map(p => ( <div key={p.date} onClick={() => setSelectedDate(p.date)} className="bg-white p-4 rounded-xl border border-gray-200 flex items-center gap-4 hover:border-blue-300 cursor-pointer group transition-all hover:shadow-sm"> <div className="w-14 text-center shrink-0"><div className="text-xl font-bold text-gray-700">{p.date.split('-')[2]}</div><div className="text-xs text-gray-400">({lang === 'en' ? WEEKDAY_MAP[p.weekday] : p.weekday})</div></div> <div className="flex-1 grid grid-cols-1 md:grid-cols-2 gap-1 md:gap-4"> <div><span className="text-[10px] text-gray-400 font-bold uppercase">{t.daily_one}</span><div className="text-[#1E3A8A] font-medium text-sm group-hover:text-blue-700">{formatScriptureDisplay(p.dailyOne, lang)}</div></div> <div><span className="text-[10px] text-gray-400 font-bold uppercase">{t.daily_ten}</span><div className="text-gray-600 text-sm group-hover:text-gray-800">{formatScriptureDisplay(p.dailyTen, lang)}</div></div> </div> <div className="shrink-0 text-gray-300 flex items-center gap-2"> {userState.readStatus[p.date] ? <CheckCircle size={20} className="text-green-500" /> : <ChevronRight size={20} />} </div> </div> ))} </div> </div> ); };
            const PreviewPortal = ({ children }) => { const mountNode = document.getElementById('print-preview-root'); return createRoot(mountNode).render(children); };
            useEffect(() => { const mountNode = document.getElementById('print-preview-root'); if (printPreviewData && mountNode) { const root = createRoot(mountNode); root.render(<PrintPreviewOverlay year={printPreviewData.year} selectedMonths={printPreviewData.selectedMonths} plans={plans} lang={lang} onClose={closePreview} />); return () => setTimeout(() => root.unmount(), 0); } }, [printPreviewData, plans, lang]);
            
            if (loading) return <div className="h-screen flex items-center justify-center text-[#1E3A8A] font-bold">Loading...</div>;

            return (
                <div className="min-h-screen bg-[#F9F9F7] text-[#374151] pb-20 md:pb-0 md:pt-20">
                    {toast && <Toast message={toast.msg} subMessage={toast.subMsg} type={toast.type} onClose={() => setToast(null)} />}
                    {printPreviewData && <PrintPreviewOverlay year={printPreviewData.year} selectedMonths={printPreviewData.selectedMonths} plans={plans} lang={lang} onClose={closePreview} />}
                    <nav className="fixed bottom-0 md:top-0 md:bottom-auto left-0 w-full bg-white/90 backdrop-blur-md border-t md:border-b border-gray-200 z-40 px-6 py-2 md:py-3 shadow-lg md:shadow-sm no-print"> <div className="max-w-5xl mx-auto flex justify-between items-center"> <div className="hidden md:flex items-center gap-3"><div className="w-9 h-9 rounded-lg bg-[#1E3A8A] flex items-center justify-center text-white font-bold text-lg shadow-sm">P</div><span className="text-xl font-bold tracking-tight text-[#1E3A8A]">PJBC</span></div> <div className="flex w-full md:w-auto justify-around md:gap-8"> {[ {id:'home',icon:Home,label:t.nav.home}, {id:'calendar',icon:CalendarIcon,label:t.nav.calendar}, {id:'table',icon:List,label:t.nav.table}, {id:'journey',icon:Map,label:t.nav.journey} ].map(i => ( <button key={i.id} onClick={() => setActiveTab(i.id)} className={`flex flex-col md:flex-row items-center gap-1 md:gap-2 p-2 rounded-xl transition-all ${activeTab === i.id ? "text-[#1E3A8A] bg-blue-50 font-semibold" : "text-gray-400 hover:text-[#1E3A8A] hover:bg-gray-50"}`}> <i.icon size={22} strokeWidth={activeTab === i.id ? 2.5 : 2} /><span className="text-[10px] md:text-sm">{i.label}</span> </button> ))} </div> </div> </nav>
                    <main className="p-4 md:p-8 max-w-6xl mx-auto no-print">
                        {activeTab === 'home' && (
                            <div className="space-y-6 animate-in slide-in-from-bottom-4 duration-500">
                                <div className="flex flex-col gap-4">
                                    <div className="flex justify-between items-start">
                                        <div> <div className="text-[#D97706] font-bold text-sm mb-1 flex items-center gap-2"> <Fish size={16} /> {lang === 'zh' ? "水深之處，下網打魚" : "Launch out into the deep"} </div> <h1 className="text-2xl md:text-4xl font-bold text-[#1E3A8A] tracking-tight leading-snug"> {t.title}<br/>{t.subtitle} </h1> </div>
                                        <div className="flex flex-col items-end gap-2">
                                            <div className="flex gap-2"> <button onClick={handlePrintClick} className="flex items-center gap-1 text-xs font-bold border border-gray-300 bg-white rounded-full px-3 py-1 shadow-sm hover:bg-gray-50 transition-all text-gray-800"> <Printer size={14} /> {t.print_btn} </button> <button onClick={() => setLang(l => l === 'zh' ? 'en' : 'zh')} className="flex items-center gap-1 text-xs font-bold border border-gray-300 bg-white rounded-full px-3 py-1 shadow-sm hover:bg-gray-50 transition-all text-gray-600"><Globe size={14} /> {lang === 'zh' ? 'EN' : '中'}</button> </div>
                                            {/* 修改：使用 flex-col-reverse 讓手機版順序反轉 (今日進度在下)，md:flex-row 保持電腦版水平排列 */}
                                            <div className="flex flex-col-reverse md:flex-row gap-2 md:gap-3">
                                                <button onClick={() => { 
                                                    const today = getTodayStrInTaiwan(); 
                                                    setSelectedDate(today); 
                                                    const [y, m, d] = today.split('-').map(Number);
                                                    setCurrentCalendarDate(new Date(y, m - 1, d)); 
                                                }} className="bg-[#1E3A8A] text-white px-5 py-3 rounded-xl font-bold shadow-lg hover:shadow-xl hover:bg-blue-900 hover:scale-105 transition-all flex items-center justify-center gap-2 text-base whitespace-nowrap"><BookOpen size={20} /> {t.today_btn}</button>
                                                <button onClick={openMyGraceCards} className="bg-amber-400 text-blue-900 px-5 py-3 rounded-xl font-bold shadow-lg hover:shadow-xl hover:bg-amber-300 hover:scale-105 transition-all flex items-center justify-center gap-2 text-base whitespace-nowrap"><Sparkles size={20} /> {t.grace_btn}</button>
                                            </div>
                                        </div>
                                    </div>
                                    {/* ... rest of home view ... */}
                                    <div className="grid grid-cols-2 gap-3 md:flex md:gap-4"> <div className="bg-white p-3 rounded-xl border border-gray-200 shadow-sm flex items-center gap-3 flex-1 cursor-default transition-all group"> <div className="w-10 h-10 rounded-full bg-blue-50 flex items-center justify-center group-hover:bg-blue-100"><Star size={20} className="text-[#1E3A8A] fill-[#1E3A8A]" /></div> <div> <div className="text-xs text-gray-500">{t.days_read}</div> <div className="font-bold text-[#1E3A8A] flex items-baseline gap-1 leading-tight">{starCount} <span className="text-xs font-normal text-gray-400">{t.days_unit}</span></div> <div className="text-[11px] text-gray-400 font-medium mt-0.5">{lang === 'zh' ? `已讀 ${starCount} 天` : `${starCount} days read`}</div> </div> </div> <div className="bg-gradient-to-r from-amber-50 to-orange-50 p-3 rounded-xl border border-orange-200 shadow-sm flex items-center gap-3 flex-1 cursor-pointer hover:shadow-md transition-all group" onClick={() => setActiveTab('journey')}> <div className="w-10 h-10 rounded-full bg-white flex items-center justify-center text-amber-600 shadow-sm group-hover:scale-110 transition-transform"><Award size={20} /></div> <div> <div className="text-xs text-amber-600 font-bold uppercase tracking-wide">{t.journey_title}</div> <div className="font-bold text-gray-800 text-sm group-hover:text-amber-800">{t.view_journey} <span className="inline-block transition-transform group-hover:translate-x-1">→</span></div> </div> </div> </div>
                                </div>
                                <div className="w-full"> <CalendarView currentDate={currentCalendarDate} setCurrentDate={setCurrentCalendarDate} /> </div>
                            </div>
                        )}
                        {activeTab === 'calendar' && <div className="max-w-5xl mx-auto animate-in fade-in h-[calc(100vh-140px)]"><CalendarView currentDate={currentCalendarDate} setCurrentDate={setCurrentCalendarDate} /></div>}
                        {activeTab === 'table' && <div className="animate-in fade-in"><TableView /></div>}
                        {activeTab === 'journey' && <div className="animate-in fade-in"><JourneyView starCount={starCount} lang={lang} /></div>}
                    </main>

                    {selectedDate && ( <div className="fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm transition-opacity no-print"> <div className="bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto animate-in fade-in zoom-in-95 duration-200 flex flex-col"> <div className="sticky top-0 bg-white/95 backdrop-blur z-20 flex justify-end p-3 border-b border-gray-100"><button onClick={() => { setSelectedDate(null); }} className="p-2 hover:bg-gray-100 rounded-full text-gray-500"><X size={24} /></button></div> <div className="p-6 pt-2 overflow-y-auto custom-scrollbar"><DetailCard date={selectedDate} onNavigate={setSelectedDate} onOpenGraceCard={handleOpenGraceCard} /></div> </div> </div> )}
                    <PrintModal isOpen={isPrintModalOpen} onClose={() => setIsPrintModalOpen(false)} onConfirm={handlePreviewConfirm} availableYears={[2025, 2026]} lang={lang} />
                    
                    <GraceCollectionModal 
                        isOpen={isGraceCollectionOpen}
                        onClose={() => setIsGraceCollectionOpen(false)}
                        collectedCards={userState.collectedCards}
                        onSelectCard={selectGraceCardFromCalendar}
                        lang={lang}
                    />

                    <GraceModal 
                        isOpen={isGraceModalOpen} 
                        onClose={() => setIsGraceModalOpen(false)} 
                        card={currentGraceCard?.card} 
                        date={currentGraceCard?.date}
                        mode={currentGraceCard?.mode}
                        onNavigate={navigateGraceCard}
                        lang={lang} 
                    />
                </div>
            );
        }

        const root = createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
